\section{合同的应用——二次型}
\begin{definition}
	数域$K$上的一个$n$元\gls{QuadraticForm}是系数在$K$中的$n$个变量的二元齐次多项式，它的一般形式为：
	\begin{equation*}
		f(x_1,x_2,\dots,x_n)=\sum_{i=1}^{n}\sum_{j=1}^{n}a_{ij}x_ix_j
	\end{equation*}
	其中$a_{ij}=a_{ji},\;1\leqslant i,j\leqslant n$。矩阵：
	\begin{equation*}
		A=
		\begin{pmatrix}
			a_{11} & a_{12} & \cdots & a_{1n} \\
			a_{12} & a_{22} & \cdots & a_{2n} \\
			\vdots & \vdots & \ddots & \vdots \\
			a_{1n} & a_{2n} & \cdots & a_{nn}
		\end{pmatrix}
	\end{equation*}
	被称为二次型$f(x_1,x_2,\dots,x_n)$的矩阵，它是一个对称矩阵，主对角元依次是$x_1^2,x_2^2,\dots,x_n^2$的系数，$(i,j)$元是$x_ix_j$系数的一半，其中$i\ne j$。令：
	\begin{equation*}
		x=(x_1,x_2,\dots,x_n)^T
	\end{equation*}
	则二次型$f(x_1,x_2,\dots,x_n)$可写作$x^TAx$。
\end{definition}
\begin{definition}
	令$x=(x_1,x_2,\dots,x_n)^T,\;y=(y_1,y_2,\dots,y_n)^T$，可逆矩阵$C\in M_{n}(K)$，则关系式$x=Cy$称为变量$x_1,x_2,\dots,x_n$到变量$y_1,y_2,\dots,y_n$的一个\gls{InvertibleLinearTransformation}。如果$C$是一个正交矩阵，则称变量变换$x=Cy$为一个\gls{OrthogonalTransformation}。
\end{definition}
\begin{definition}
	对于数域$K$上的两个$n$元二次型$x^TAx$与$y^TAy$，如果存在一个非退化线性变换$x=Cy$，把$x^TAx$变成$y^TBy$，那么称二次型$x^TAx$与$y^TBy$\textbf{等价}，记作$x^TAx\cong y^TBy$。如果二次型$x^TAx$等价于一个只含平方项的二次型，那么称这个只含平方项的二次型是$x^TAx$的一个\textbf{标准形}。
\end{definition}
\begin{theorem}\label{theo:QuadraticEquivCongruent}
	数域$K$上两个$n$元二次型$x^TAx$与$y^TBy$等价当且仅当$n$阶对称矩阵$A$与$B$合同，于是二次型的等价也是一个等价关系。
\end{theorem}
\begin{proof}
	\textbf{(1)充分性：}因为$A\cong B$，所以存在可逆矩阵$C$使得$C^TAC=B$。作非退化线性变换$x=Cy$，可得到$(Cy)^TA(Cy)=y^TC^TACy=y^TBy$，所以$x^TAx\cong y^TBy$。\par
	\textbf{(2)必要性：}因为$x^TAx\cong y^TBy$，所以存在非退化线性变换$x=Cy$，$C$是一个可逆矩阵，把$x^TAx$变为$y^TBy$，即$(Cy)^TA(Cy)=y^TC^TACy=y^TBy$，所以$C^TAC=B$，即$A\cong B$。\par
	因为合同是一个等价关系，显然可得二次型的等价也是一个等价关系。
\end{proof}
\begin{theorem}
	数域$K$上任一$n$元二次型都等价于一个只含平方项的二次型。
\end{theorem}
\begin{proof}
	当二次型的矩阵是对角矩阵时该二次型只含平方项，由\cref{prop:CongruentMatrix}(4)与\cref{theo:QuadraticEquivCongruent}可立即得出结论。
\end{proof}
\begin{theorem}
	设$n$元二次型$x^TAx$的矩阵$A$合同于对角矩阵$D=\operatorname{diag}\{d_1,d_2,\dots,d_n\}$，即存在可逆矩阵$C$使得$C^TAC=D$。令$x=Cy$，则可以得到$x^TAx$的一个标准形：
	\begin{equation*}
		d_1y_1^2+d_2y_2^2+\cdots+d_ny_n^2
	\end{equation*}
\end{theorem}
\begin{proof}
	将$x=Cy$代入可得：
	\begin{equation*}
		x^TAx=(Cy)^TA(Cy)=y^TC^TACy=y^TDy=\sum_{i=1}^{n}d_iy_i^2\qedhere
	\end{equation*}
\end{proof}
\begin{theorem}
	数域$K$上$n$元二次型$x^TAx$的任一标准形中，系数不为$0$的平方项个数等于它的矩阵$A$的秩。
\end{theorem}
\begin{proof}
	设$n$元二次型$x^TAx$经过非退化线性变换$x=Cy$化成标准形$d_1y_1^2+d_2y_2^2+\cdots+d_ry_r^2$，其中$d_1,d_2,\dots,d_r$都不为$0$，则：
	\begin{equation*}
		C^TAC=\operatorname{diag}\{d_1,d_2,\dots,d_r,0,\dots,0\}
	\end{equation*}
	于是$\operatorname{diag}\{d_1,d_2,\dots,d_r,0,\dots,0\}$是$A$的一个合同标准形。由\cref{prop:CongruentMatrix}(3)可得$\operatorname{rank}(A)=r$。
\end{proof}
\begin{definition}
	称二次型$x^TAx$的矩阵$A$的秩为二次型$x^TAx$的秩。
\end{definition}

\subsection{二次型的规范形}
\subsubsection{实二次型的规范形}
\begin{definition}
	实数域上的二次型称为\textbf{实二次型}。由\cref{prop:CongruentMatrix}(5)可知$n$元实二次型$x^TAx$的矩阵$A$合同于一个对角矩阵$\operatorname{diag}\{1,1,\dots,1,-1,-1,\dots,-1,0,0,\dots,0\}$，再由\cref{theo:QuadraticEquivCongruent}可知经过一个适当的非退化线性变换可以将$x^TAx$化作：
	\begin{equation*}
		z_1^2+z_2^2+\cdots+z_p^2-z_{p+1}^2-z_{p+2}^2-z_r^2
	\end{equation*}
	称此形式为二次型$x^TAx$的\textbf{规范形}，其特征为：只含平方项且平方项系数为$1,-1,0$，系数为$1$的平方项在最前面，系数为$-1$的平方项在中间，系数为$0$的平方项在最后。实二次型$x^TAx$的规范形被两个自然数$p$和$r$决定。
\end{definition}
\begin{theorem}[Sylvester's Law of Inertia]
	\label{theo:Sylvester'sLawOfInertia}
	$n$元实二次型$x^TAx$的规范形是唯一的。
\end{theorem}
\begin{proof}
	设$n$元实二次型$x^TAx$的秩为$r$，假设$x^TAx$分别经过非退化线性变换$x=Cy$和$x=Bz$变成两个规范形：
	\begin{gather*}
		x^TAx=y_1^2+y_2^2+\cdots+y_p^2-y_{p+1}^2-y_{p+2}^2-\cdots-y_r^2 \\
		x^TAx=z_1^2+z_2^2+\cdots+z_q^2-z_{q+1}^2-z_{q+2}^2-\cdots-z_r^2
	\end{gather*}
	要证规范形唯一，即证$p=q$。\par
	由$x=Cy$和$x=Bz$可知，经过非退化线性变换$z=(B^{-1}C)y$后有：
	\begin{equation*}
		z_1^2+z_2^2+\cdots+z_q^2-z_{q+1}^2-z_{q+2}^2-\cdots-z_r^2
		=y_1^2+y_2^2+\cdots+y_p^2-y_{p+1}^2-y_{p+2}^2-\cdots-y_r^2
	\end{equation*}
	记$D=B^{-1}C=(d_{ij})$。假设$p>q$，我们想找到变量$y_1,y_2,\dots,y_n$的一组取值，使得上式右端大于$0$，而左端小于或等于$0$，从而产生矛盾。令：
	\begin{equation*}
		y=(y_1,y_2,\dots,y_p,0,0,\dots,0)^T
	\end{equation*}
	其中$y_1,y_2,\dots,y_p$是待定的实数，使得变量$z_1,z_2,\dots,z_q$的值全为$0$。因为$z=Dy$，所以：
	\begin{equation*}
		\begin{pmatrix}
			d_{11} & d_{12} & \cdots & d_{1p} \\
			d_{21} & d_{22} & \cdots & d_{2p} \\
			\vdots & \vdots & \ddots & \vdots \\
			d_{q1} & d_{q2} & \cdots & d_{qp} \\
		\end{pmatrix}
		\begin{pmatrix}
			y_1 \\
			y_2 \\
			\vdots \\
			y_p
		\end{pmatrix}
		=
		\begin{pmatrix}
			z_1 \\
			z_2 \\
			\vdots \\
			z_q
		\end{pmatrix}
		=
		\begin{pmatrix}
			0 \\
			0 \\
			\vdots \\
			0
		\end{pmatrix}
	\end{equation*}
	因为$p>q$，所以上述齐次线性方程组有非零解，即存在非零向量$y=(y_1,y_2,\dots,y_p,0,0,\dots,0)^T$使得$z_1=z_2=\cdots=z_q=0$。此时有：
	\begin{gather*}
		z_1^2+z_2^2+\cdots+z_q^2-z_{q+1}^2-z_{q+2}^2-\cdots-z_r^2\leqslant0 \\
		y_1^2+y_2^2+\cdots+y_p^2-y_{p+1}^2-y_{p+2}^2-\cdots-y_r^2>0
	\end{gather*}
	矛盾。因此$p\leqslant q$。同理可得$q\leqslant p$，于是$p=q$，规范形唯一。
\end{proof}
\begin{definition}
	在实二次型$x^TAx$的规范形中，系数为$1$的平方项个数$p$称为$x^TAx$的正惯性指数，系数为$-1$的平方项个数$r-p$称为$x^TAx$的负惯性指数，正惯性指数减去负惯性指数所得的差$2p-r$称为$x^TAx$称为$x^TAx$的\gls{Signature}。
\end{definition}
\begin{theorem}\label{theo:RQuadraticFormEquiv}
	两个$n$元实二次型等价\par
	$\iff$它们的规范形相同\par
	$\iff$它们的秩相等，并且正惯性指数也相等。
\end{theorem}
\begin{proof}
	第一条由\cref{theo:Sylvester'sLawOfInertia}以及二次型等价的传递性、对称性可直接得到（必要性的证明中需要考虑规范形的定义，然后使用\cref{theo:Sylvester'sLawOfInertia}），第二条是显然的。
\end{proof}
显然矩阵$A$的正惯性指数与负惯性指数就等于二次型$x^TAx$的正惯性指数与负惯性指数，也等于$A$的合同标准形主对角线上大于$0$的元素的个数与小于$0$的个数。
\begin{theorem}
	两个$n$阶实对称矩阵合同$\iff$它们的秩相等，并且正惯性指数也相等。
\end{theorem}
\begin{proof}
	由\cref{theo:QuadraticEquivCongruent}可得矩阵合同等价于各自对应的二次型等价，再由\cref{theo:RQuadraticFormEquiv}可得两个二次型的秩与正惯性指数都相等。因为矩阵的秩与正惯性指数等于对应的二次型的秩与正惯性指数，所以结论成立。
\end{proof}
\subsubsection{复二次型的规范形}
\begin{definition}
	复数域上的二次型称为\textbf{复二次型}。由\cref{prop:CongruentMatrix}(6)可知$n$元复二次型$x^TAx$的矩阵$A$合同于一个对角矩阵$\operatorname{diag}\{1,1,\dots,1,0,0,\dots,0\}$，再由\cref{theo:QuadraticEquivCongruent}可知经过一个适当的非退化线性变换可以将$x^TAx$化作：
	\begin{equation*}
		z_1^2+z_2^2+\cdots+z_r^2
	\end{equation*}
	称此形式为二次型$x^TAx$的\textbf{规范形}，其特征为：只含平方项且平方项系数为$1,0$，系数为$1$的平方项在前面，系数为$0$的平方项在后面。
\end{definition}
\begin{theorem}\label{theo:CQuadraticFormOnly}
	复二次型$x^TAx$的规范形是唯一的。
\end{theorem}
\begin{proof}
	复二次型$x^TAx$的规范形完全由它的秩$r$所决定。
\end{proof}
\begin{theorem}
	两个$n$元复二次型等价\par
	$\iff$它们的规范形相同\par
	$\iff$它们的秩相等。
\end{theorem}
\begin{proof}
	第一条由\cref{theo:CQuadraticFormOnly}以及二次型的传递性、对称性可直接得到（必要性的证明中需要考虑规范形的定义，然后使用\cref{theo:CQuadraticFormOnly}），第二条是显然的。
\end{proof}

\subsection{正定二次型与正定矩阵}
\begin{definition}
	如果对$\mathbb{R}^{n}$中任意非零列向量$\alpha$，都有$\alpha^TA\alpha>0$，则称$n$元实二次型$x^TAx$是\gls{PositiveDefinite}的。
\end{definition}
\begin{definition}
	若实二次型$x^TAx$是正定的，则称实对称矩阵$A$是正定的，并称$A$为\gls{PositiveDefiniteMatrix}，记为$A>0$。
\end{definition}
\begin{theorem}
	$n$元实二次型$x^TAx$是正定的当且仅当它的正惯性指数等于$n$。
\end{theorem}
\begin{proof}
	\textbf{(1)必要性：}设$x^TAx$是正定的，作非退化线性变换$x=Cy$化成规范形：
	\begin{equation*}
		y_1^2+y_2^2+\cdots+y_p^2-y_{p+1}^2-y_{p+2}^2-y_r^2
	\end{equation*}
	如果$p<n$，则$y_n^2$的系数为$0$或$-1$，取$y=(0,0,\dots,1)^T$，则有$y^TC^TACy=-y_n^2$为$0$或$-1$，取$\alpha=Cy$即有$\alpha^TA\alpha$为$0$或$-1$，与二次型$x^TAx$的正定性矛盾，所以$p=n$。\par
	\textbf{(2)充分性：}设$x^TAx$的正惯性指数等于$n$，则可以作一个非退化线性变换$x=Cy$将该二次型化作规范形：
	\begin{equation*}
		y^TC^TACy=y_1^2+y_2^2+\cdots+y_n^2
	\end{equation*}
	因为矩阵$C$可逆，所以关于$y$的齐次线性方程组$C^{-1}x=\mathbf{0}$只有零解。任取非零向量$\alpha\in\mathbb{R}^{n}$，则$C^{-1}\alpha$不是零向量，令$y=C^{-1}\alpha$，于是$\alpha^T(C^{-1})^TC^TACC^{-1}\alpha>0$，即$\alpha^TA\alpha>0$。由$\alpha$的任意性，$x^TAx$是正定的。
\end{proof}
\begin{theorem}\label{theo:PositiveDefinite}
	由上述定理可得到如下推论：
	\begin{enumerate}
		\item 对于$n$元实二次型$x^TAx$，下述说法等价：
		\begin{itemize}
			\item $x^TAx$是正定的；
			\item $x^TAx$的规范形为$y_1^2+y_2^2+\cdots+y_n^2$；
			\item $x^TAx$的标准形中的$n$个系数都大于$0$；
		\end{itemize}
		\item 与正定二次型等价的实二次型也是正定的；
		\item 对于$n$阶实对称矩阵$A$，下述说法等价：
		\begin{itemize}
			\item $A$是正定的；
			\item $A$的正惯性指数为$n$；
			\item $A\cong I$；
			\item $A$的合同标准形中主对角元都大于$0$；
			\item $A$的特征值都大于$0$；
			\item $A$的顺序主子式都大于$0$。
		\end{itemize}
		\item 与正定矩阵合同的实对称矩阵也是正定矩阵。
		\item 正定矩阵的行列式大于$0$；
		\item 正定矩阵可逆；
	\end{enumerate}
\end{theorem}
\begin{proof}
	(1)$1\iff2$：由上一定理，$x^TAx$正定当且仅当它的正惯性指数为$n$，而$x^TAx$的正惯性指数为$n$当且仅当它的规范形为$y_1^2+y_2^2+\cdots+y_n^2$。\par
	$2\Rightarrow3$：由标准形化规范形的步骤，若$x^TAx$的规范形为$y_1^2+y_2^2+\cdots+y_n^2$，则其标准形中的$n$个系数必然都大于$0$；\par
	$3\Rightarrow2$：当$x^TAx$的标准形中的$n$个系数都大于$0$时，也必然可以将其化为$y_1^2+y_2^2+\cdots+y_n^2$。\par
	(2)由(4)、\cref{theo:QuadraticEquivCongruent}和正定矩阵的定义可直接得到。\par	
	(3)$1\Rightarrow2$：因为$A$是正定的，所以$n$元二次型$x^TAx$是正定的，由上一定理可得$x^TAx$的正惯性指数为$n$。因为$A$的正惯性指数等于$x^TAx$的正惯性指数，所以$A$的正惯性指数为$n$。\par
	$2\Rightarrow3$：因为$A$的正惯性指数为$n$，由矩阵正惯性指数的定义，$A$合同于$I$。\par
	$3\Rightarrow4$：因为$A$合同于$I$，由合同规范形的定义，$I$是$A$的合同规范形，由合同标准型化合同规范形的步骤，$A$的合同标准型中主对角元都大于$0$。\par
	$4\Rightarrow5$：由\cref{prop:HermitianMatEigen}(3)可知$A\cong\operatorname{diag}\{\seq{\lambda}{n}\}$，其中$\lambda_i,\;i=1,2,\dots,n$是$A$的特征值。显然$\operatorname{diag}\{\seq{\lambda}{n}\}$是$A$的一个合同标准型，因为$A$的合同标准型中主对角元都大于$0$，所以$A$的特征值都大于$0$。
	\par
	$5\Rightarrow2$：显然。\par
	$2\Rightarrow1$：由\cref{theo:QuadraticEquivCongruent}、上一定理和矩阵正定的定义可直接得到。\par
	$1\Rightarrow6$：设$n$阶实对称矩阵$A$是正定的，则对于$k=1,2,\dots,n-1$，把$A$写成分块矩阵：
	\begin{equation*}
		A=
		\begin{pmatrix}
			A_k & B_1 \\
			B_1^T & B_2
		\end{pmatrix}
	\end{equation*}
	其中$|A_k|$是$A$的$k$阶顺序主子式。在$\mathbb{R}^{k}$中任取一个非零向量$\delta$，因为$A$是正定矩阵，所以：
	\begin{equation*}
		\begin{pmatrix}
			\delta \\
			\mathbf{0}
		\end{pmatrix}^T
		A
		\begin{pmatrix}
			\delta \\
			\mathbf{0}
		\end{pmatrix}
		=
		\begin{pmatrix}
			\delta^T & \mathbf{0}
		\end{pmatrix}
		\begin{pmatrix}
			A_k & B_1 \\
			B_1^T & B_2
		\end{pmatrix}
		\begin{pmatrix}
			\delta \\
			\mathbf{0}
		\end{pmatrix}
		=\delta^TA_k\delta>0
	\end{equation*}
	由$\delta$的任意性，$A_k$是正定矩阵。由(5)，$|A_k|>0,\;k=1,2,\dots,n-1,\;|A|>0$。\par
	$6\Rightarrow1$：对实对称矩阵$A$的阶数$n$作数学归纳法。\par
	当$n=1$时，因为$A$的顺序主子式都大于$0$，所以$A$的唯一一个元素大于$0$，显然此时$A$是正定矩阵。\par
	假设对于$n-1$阶实对称矩阵命题为真，考虑$n$阶实对称矩阵$A=(a_{ij})$，将其写作分块矩阵的形式：
	\begin{equation*}
		A=
		\begin{pmatrix}
			A_{n-1} & \alpha \\
			\alpha^T & a_{nn}
		\end{pmatrix}
	\end{equation*}
	其中$A_{n-1}$是$n-1$阶实对称矩阵，因为$A_{n-1}$的所有顺序主子式是$A$的$1$到$n-1$阶顺序主子式，它们都大于$0$，由归纳假设可得$A_{n-1}$是正定的。根据(6)可知$A_{n-1}$可逆。由(3)的第三条可知存在可逆矩阵$C\in M_{n-1}(\mathbb{R})$使得$C^TA_{n-1}C=I$。因为：
	\begin{equation*}
		\begin{pmatrix}
			I & \mathbf{0} \\
			-\alpha^TA_{n-1}^{-1} & 1
		\end{pmatrix}
		\begin{pmatrix}
			A_{n-1} & \alpha \\
			\alpha^T & a_{nn}
		\end{pmatrix}
		\begin{pmatrix}
			I & -A_{n-1}^{-1}\alpha \\
			\mathbf{0} & 1
		\end{pmatrix}
		=
		\begin{pmatrix}
			A_{n-1} & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
	\end{equation*}
	注意到：
	\begin{equation*}
		\begin{pmatrix}
			I & \mathbf{0} \\
			-\alpha^TA_{n-1}^{-1} & 1
		\end{pmatrix}^T
		=
		\begin{pmatrix}
			I & (-\alpha^TA_{n-1}^{-1})^T \\
			\mathbf{0} & 1
		\end{pmatrix}
		=
		\begin{pmatrix}
			I & -A_{n-1}^{-1}\alpha \\
			\mathbf{0} & 1
		\end{pmatrix}
	\end{equation*}
	且：
	\begin{equation*}
		\begin{pmatrix}
			I & \mathbf{0} \\
			-\alpha^TA_{n-1}^{-1} & 1
		\end{pmatrix}
	\end{equation*}
	可逆，所以$A$合同于矩阵：
	\begin{equation*}
		\begin{pmatrix}
			A_{n-1} & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
	\end{equation*}
	因为：
	\begin{align*}
		\begin{vmatrix}
			A_{n-1} & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{vmatrix}
		&=
		\begin{vmatrix}
			I & \mathbf{0} \\
			-\alpha^TA_{n-1}^{-1} & 1
		\end{vmatrix}\;
		\begin{vmatrix}
			A_{n-1} & \alpha \\
			\alpha^T & a_{nn}
		\end{vmatrix}\;
		\begin{vmatrix}
			I & -A_{n-1}^{-1}\alpha \\
			\mathbf{0} & 1
		\end{vmatrix} \\
		&=
		\begin{vmatrix}
			A_{n-1} & \alpha \\
			\alpha^T & a_{nn}
		\end{vmatrix}
		=|A|
	\end{align*}
	所以$|A_{n-1}|(a_{nn}-\alpha^TA_{n-1}^{-1}\alpha)=|A|>0$，而$|A_{n-1}|>0$，所以$a_{nn}-\alpha^TA_{n-1}^{-1}\alpha>0$。因为：
	\begin{align*}
		&
		\begin{pmatrix}
			C & \mathbf{0} \\
			\mathbf{0} & 1
		\end{pmatrix}^T
		\begin{pmatrix}
			A_{n-1} & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
		\begin{pmatrix}
			C & \mathbf{0} \\
			\mathbf{0} & 1
		\end{pmatrix} \\
		=&
		\begin{pmatrix}
			C^TA_{n-1}C & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
		=
		\begin{pmatrix}
			I & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
	\end{align*}
	而：
	\begin{equation*}
		B=
		\begin{pmatrix}
			I & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
	\end{equation*}
	主对角线上的元素都大于$0$，由(3)的第四条可知$B$是一个正定矩阵。因为$|C|1=|C|\ne0$，根据\cref{prop:InvertibleMatrix}(3.a)可得：
	\begin{equation*}
		\begin{pmatrix}
			C & \mathbf{0} \\
			\mathbf{0} & 1
		\end{pmatrix}
	\end{equation*}
	可逆。于是：
	\begin{equation*}
		\begin{pmatrix}
			A_{n-1} & \mathbf{0} \\
			\mathbf{0} & a_{nn}-\alpha^TA_{n-1}^{-1}\alpha
		\end{pmatrix}
	\end{equation*}
	合同于$B$。根据合同的传递性，$A$合同于正定矩阵$B$。由(4)，$A$是一个正定矩阵。\par
	(4)设$A$是一个正定矩阵，$B$是一个实对称矩阵且合同于$A$。由(3)的第三条可知$A$合同于$I$，根据合同的传递性，$B$也合同于$I$。再由(3)的第三条可得$B$也是一个正定矩阵。\par
	(5)设$A$是一个正定矩阵，由(3)的第三条可得$A\cong I$，即存在可逆矩阵$C$，使得$C^TAC=I$，于是：
	\begin{equation*}
		|C^TAC|=|C^T|\;|A|\;|C|=|A|\;|C|^2=1
	\end{equation*}
	因为$|C|^2>0$，所以$|A|>0$。\par
	(6)由(5)和\cref{prop:InvertibleMatrix}(3.a)立即得到。
\end{proof}
\subsubsection{半正定二次型与半正定矩阵}
\begin{definition}
	如果对$\mathbb{R}^{n}$中任意非零列向量$\alpha$，都有$\alpha^TA\alpha\geqslant0$，则称$n$元实二次型$x^TAx$是\gls{PositiveSemidefinite}的。
\end{definition}
\begin{definition}
	若实二次型$x^TAx$是半正定的，则称实对称矩阵$A$是半正定的，并称$A$为\gls{PositiveSemidefiniteMatrix}，记为$A\geqslant0$。
\end{definition}
\begin{theorem}\label{theo:PositiveSemidefinite}
	由上述定理可得到如下推论：
	\begin{enumerate}
		\item 对于$n$元实二次型$x^TAx$，$\operatorname{rank}(A)=r$，下述说法等价：
		\begin{itemize}
			\item $x^TAx$是半正定的；
			\item $x^TAx$的正惯性指数等于$r$；
			\item $x^TAx$的规范形为$y_1^2+y_2^2+\cdots+y_r^2$；
			\item $x^TAx$的标准形中的$n$个系数都非负；
		\end{itemize}
		\item 与半正定二次型等价的实二次型也是半正定的；
		\item 对于$n$阶实对称矩阵$A$，$\operatorname{rank}(A)=r$，下述说法等价：
		\begin{itemize}
			\item $A$是半正定的；
			\item $A$的正惯性指数为$r$；
			\item $A\cong
			\begin{pmatrix}
				I_r & \mathbf{0} \\
				\mathbf{0} & \mathbf{0}
			\end{pmatrix}$；
			\item $A$的合同标准形中主对角元都非负；
			\item $A$的特征值都非负；
			\item $A$的主子式都非负。
		\end{itemize}
		\item 与半正定矩阵合同的实对称矩阵也是半正定矩阵。
		\item 半正定矩阵的行列式为$0$；
	\end{enumerate}
\end{theorem}
\begin{proof}
	(1)$1\Rightarrow3$：作非退化线性变换$x=Cy$把$x^TAx$化作规范形：
	\begin{equation*}
		y_1^2+y_2^2+\cdots+y_p^2-y_{p+1}^2-y_{p+2}^2-y_r^2
	\end{equation*}
	若$p<r$，取$\alpha=(0,0,\dots,0,1,0,0,\dots,0)$，其中只有第$r$位为$1$，则$(C\alpha)^TA(C\alpha)=\alpha C^TAC\alpha=-1$，与$x^TAx$的非负定性矛盾，所以$p=r$。\par
	$3\Rightarrow2$：显然。\par
	$2\Rightarrow4$：显然。\par
	$4\Rightarrow1$：作非退化线性变换$x=Cy$把$x^TAx$化作一个标准形$d_1y_1^2+d_2y_2^2+\cdots+d_ny_n^2$，其中$d_i\geqslant0,\;i=1,2,\dots,n$。任取$\alpha\in\mathbb{R}^{n}$且$\alpha\ne\mathbf{0}$。因为$C$可逆，所以$C^{-1}x=\mathbf{0}$只有零解，于是$C^{-1}\alpha=(b_1,b_2,\dots,b_n)\ne\mathbf{0}$，所以：
	\begin{equation*}
		(C^{-1}\alpha)^TC^TACC^{-1}\alpha=\sum_{i=1}^{n}d_ib_i^2\geqslant0
	\end{equation*}
	而：
	\begin{equation*}
		(C^{-1}\alpha)^TC^TACC^{-1}\alpha=\alpha^T(C^{-1})^TC^TACC^{-1}\alpha=\alpha^T(C^T)^{-1}C^TACC^{-1}\alpha=\alpha^TA\alpha 
	\end{equation*}
	所以$\alpha^TA\alpha\geqslant0$。由$\alpha$的任意性，$x^TAx$半正定。\par
	(2)由(4)、\cref{theo:QuadraticEquivCongruent}和半正定矩阵的定义可直接得到。\par	
	(3)$1\Rightarrow2$：因为$A$是半正定的，所以$x^TAx$是半正定的。由(1)的第二条，$x^TAx$的正惯性指数等于$r$，而$A$的正惯性指数等于$x^TAx$的正惯性指数，所以$A$的正惯性指数为$r$。\par
	$2\Rightarrow3$：因为$A$的正惯性指数为$r$，由矩阵正惯性指数的定义，$A\cong\begin{pmatrix}
		I_r & \mathbf{0} \\
		\mathbf{0} & \mathbf{0}
	\end{pmatrix}$。\par
	$3\Rightarrow4$：因为$A\cong C=
	\begin{pmatrix}
		I_r & \mathbf{0} \\
		\mathbf{0} & \mathbf{0}
	\end{pmatrix}$，所以$C$是$A$的合同规范形。由合同标准形化合同规范形的步骤，$A$的合同标准形中主对角元都大于$0$。\par
	$4\Rightarrow5$：由\cref{prop:HermitianMatEigen}(3)可知$A\cong\operatorname{diag}\{\seq{\lambda}{n}\}$，其中$\lambda_i,\;i=1,2,\dots,n$是$A$的特征值。显然$\operatorname{diag}\{\seq{\lambda}{n}\}$是$A$的一个合同标准型，因为$A$的合同标准型中主对角元都非负，所以$A$的特征值都非负。\par
	$5\Rightarrow2$：因为$\operatorname{rank}=r$，所以$A$的相似标准形主对角线上的元素有且只有$r$个非零，由条件它们也非负，于是它们为正数，显然此时$A$的正惯性指数为$r$。\par
	$2\Rightarrow1$：由\cref{theo:QuadraticEquivCongruent}、(1)的第二条和矩阵半正定的定义可直接得到。\par
	$1\Rightarrow6$：\par
	$6\Rightarrow5$：\info{有空证明}\par
	(4)设$A$是一个半正定矩阵，$B$是一个实对称矩阵且合同于$A$。由(3)的第三条可知$A\cong C=\begin{pmatrix}
		I_r & \mathbf{0} \\
		\mathbf{0} & \mathbf{0}
	\end{pmatrix}$
	，根据合同的传递性，$B\cong C$。再由(3)的第三条可得$B$也是一个半正定矩阵。\par
	(5)设$A$是一个$n$阶半正定矩阵，由(3)的第三条，存在可逆矩阵$C$使得：
	\begin{equation*}
		C^TAC=B=
		\begin{pmatrix}
			I_r & \mathbf{0} \\
			\mathbf{0} & \mathbf{0}
		\end{pmatrix}
	\end{equation*}
	而$\operatorname{rank}(B)=r$，因为可逆变换不改变矩阵的秩，所以$\operatorname{rank}(A)=r<n$，于是$|A|=0$。
\end{proof}
\subsubsection{负定矩阵}
\begin{definition}
	如果对$\mathbb{R}^{n}$中任意非零列向量$\alpha$，都有$\alpha^TA\alpha<0$，则称$n$元实二次型$x^TAx$是\gls{NegativeDefinite}的。
\end{definition}
\begin{definition}
	若实二次型$x^TAx$是负定的，则称实对称矩阵$A$是负定的，并称$A$为\gls{NegativeDefiniteMatrix}，记为$A<0$。
\end{definition}
\begin{theorem}
	对称矩阵$A\in M_{n}(\mathbb{R})$负定的充分必要条件为：它的奇数阶顺序主子式都小于$0$，偶数阶顺序主子式都大于$0$。
\end{theorem}
\begin{proof}
	设$|A_k|$为$A$的$k$阶顺序主子式，由\cref{theo:PositiveDefinite}(3)的第六条：
	\begin{align*}
		&A\text{是负定矩阵} \\
		\iff&(-A)\text{是正定矩阵} \\
		\iff&(-1)^k|A_k|>0 \\
		\iff&
		\begin{cases}
			|A_k|>0,& k\text{为偶数} \\
			|A_k|<0,& k\text{为奇数} \\
		\end{cases}\qedhere
	\end{align*}
\end{proof}