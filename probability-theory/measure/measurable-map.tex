\section{可测映射与可测函数}
\subsection{可测映射}
\begin{definition}
	称$X$和其上的一个$\sigma$域$\mathscr{A}$为\gls{MeasurableSpace}，记为$(X,\mathscr{A})$。
\end{definition}
\begin{definition}
	设$(X,\mathscr{A})$和$(Y,\mathscr{B})$为可测空间，$f$是一个$X$到$Y$的映射。如果$f^{-1}(\mathscr{B})\subseteq\mathscr{A}$，则称$f$为从$(X,\mathscr{A})$到$(Y,\mathscr{B})$的\gls{MeasurableMap}，也称$f$是$\mathscr{A}$可测的。
\end{definition}
\begin{lemma}\label{lem:PreimageSigmaField}
	设$X,Y$为两个集合，$f$为一个$X$到$Y$的映射，$\mathscr{A}\subseteq Y$，则：
	\begin{equation*}
		\sigma[f^{-1}(\mathscr{A})]=f^{-1}[\sigma(\mathscr{A})]
	\end{equation*}
\end{lemma}
\begin{proof}
	先证$f^{-1}[\sigma(\mathscr{A})]$是一个$\sigma$域。\par
	(1)因为$\sigma(\mathscr{A})$是一个$\sigma$域，所以$Y\in\sigma(\mathscr{A})$，于是$X=f^{-1}(Y)\in f^{-1}[\sigma(\mathscr{A})]$。\par
	(2)任取$A\in f^{-1}[\sigma(\mathscr{A})]$，设$f(A)=B$。由\cref{theo:PropertyOfPreimage}(3)可得，$A^c=[f^{-1}(B)]^c=f^{-1}(B^c)$。因为$\sigma(\mathscr{A})$是一个$\sigma$域，$B\in\sigma(\mathscr{A})$，所以$B^c\in\sigma(\mathscr{A})$，所以$A^c\in f^{-1}[\sigma(\mathscr{A})]$。由$A$的任意性，$f^{-1}[\sigma(\mathscr{A})]$对补封闭。\par
	(3)任取集合序列$\{A_n\}\subseteq f^{-1}[\sigma(\mathscr{A})]$，$f(A_n)=B_n\in\sigma(\mathscr{A})$，由\cref{theo:PropertyOfPreimage}(4)可得：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}A_n=\underset{n=1}{\overset{+\infty}{\cup}}f^{-1}(B_n)=f^{-1}\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)
	\end{equation*}
	因为$\sigma(\mathscr{A})$是一个$\sigma$域，$B_n\in\sigma(\mathscr{A}),\;\forall\;n\in\mathbb{N}^+$，所以$\underset{n=1}{\overset{+\infty}{\cup}}B_n\in\sigma(\mathscr{A})$，于是$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in f^{-1}[\sigma(\mathscr{A})]$。由$\{A_n\}$的任意性，$f^{-1}[\sigma(\mathscr{A})]$对可列并的运算封闭。\par
	综上，$f^{-1}[\sigma(\mathscr{A})]$是一个$\sigma$域。\par
	由生成的定义，$\mathscr{A}\subseteq\sigma(\mathscr{A})$，由\cref{theo:PropertyOfPreimage}(2)可得$f^{-1}(\mathscr{A})\subseteq f^{-1}[\sigma(\mathscr{A})]$，即$f^{-1}[\sigma(\mathscr{A})]$是一个包含$f^{-1}(\mathscr{A})$的$\sigma$域，所以$\sigma[f^{-1}(\mathscr{A})]\subseteq f^{-1}[\sigma(\mathscr{A})]$。\par
	令：
	\begin{equation*}
		\mathscr{B}=\{B\subseteq Y:f^{-1}(B)\in \sigma[f^{-1}(\mathscr{A})]\}
	\end{equation*}
	下证$\mathscr{B}$是一个$\sigma$域。\par
	(1)因为$\sigma[f^{-1}(\mathscr{A})]$是一个$\sigma$域，所以$X\in\sigma[f^{-1}(\mathscr{A})]$。由\cref{theo:PropertyOfPreimage}(1)可得$f^{-1}(Y)=X\in\sigma[f^{-1}(\mathscr{A})]$，所以$Y\in\mathscr{B}$。\par
	(2)任取$B\in\mathscr{B}$。由\cref{theo:PropertyOfPreimage}(3)可得$f^{-1}(B^c)=[f^{-1}(B)]^c$。因为$\sigma[f^{-1}(\mathscr{A})]$是一个$\sigma$域，$f^{-1}(B)\in\sigma[f^{-1}(\mathscr{A})]$，所以$f^{-1}(B^c)=[f^{-1}(B)]^c\in\sigma[f^{-1}(\mathscr{A})]$，即$B^c\in\mathscr{B}$。由$B$的任意性，$\mathscr{B}$对补封闭。\par
	(3)任取$\{B_n\}\subseteq\mathscr{B}$。由\cref{theo:PropertyOfPreimage}(4)可得：
	\begin{equation*}
		f^{-1}\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)=\underset{n=1}{\overset{+\infty}{\cup}}f^{-1}(B_n)
	\end{equation*}
	因为$B_n\in\mathscr{B},\;\forall\;n\in\mathbb{N}^+$，所以$f^{-1}(B_n)\in\sigma[f^{-1}(\mathscr{A})],\;\forall\;n\in\mathbb{N}^+$。因为$\sigma[f^{-1}(\mathscr{A})]$是一个$\sigma$域，所以：
	\begin{equation*}
		f^{-1}\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)=\underset{n=1}{\overset{+\infty}{\cup}}f^{-1}(B_n)\in\sigma[f^{-1}(\mathscr{A})]
	\end{equation*}
	于是$\underset{n=1}{\overset{+\infty}{\cup}}B_n\in\mathscr{B}$。由$\{B_n\}$的任意性，$\mathscr{B}$对可列并封闭。\par
	综上，$\mathscr{B}$是一个$\sigma$域。因为$f^{-1}(\mathscr{A})\subseteq\sigma[f^{-1}(\mathscr{A})]$，所以$\mathscr{A}\subseteq\mathscr{B}$。由生成的定义，$\sigma(\mathscr{A})\subseteq\mathscr{B}$。任取$C\in f^{-1}[\sigma(\mathscr{A})]$，则存在$A\in\sigma(\mathscr{A})$使得$C=f^{-1}(A)$，因为$\sigma(\mathscr{A})\subseteq\mathscr{B}$，所以$A\in\mathscr{B}$，于是$C=f^{-1}(A)\in\sigma[f^{-1}(\mathscr{A})]$。由$C$的任意性，$f^{-1}[\sigma(\mathscr{A})]\subseteq\sigma[f^{-1}(\mathscr{A})]$。\par
	综上，$f^{-1}[\sigma(\mathscr{A})]=\sigma[f^{-1}(\mathscr{A})]$。
\end{proof}
\begin{definition}
	设$(X,\mathscr{A})$和$(Y,\mathscr{B})$为可测空间，$f$是一个$X$到$Y$的映射。称$\sigma(f)=f^{-1}(\mathscr{B})$为使映射$f$可测的最小$\sigma$域。
\end{definition}
\begin{note}
	定义中说$\sigma(f)$是$\sigma$域，这是由于每个$\sigma$域都可以看作是自己生成的$\sigma$域，再利用\cref{lem:PreimageSigmaField}即可得到$\sigma(f)$是一个$\sigma$域。
\end{note}
\begin{property}\label{prop:MeasurableMapping}
	可测映射具有如下性质：
	\begin{enumerate}
		\item 设$\mathscr{B}$是$Y$上的任一集族，$(X,\mathscr{A}),(Y,\sigma(\mathscr{B}))$是两个可测空间，则映射$f$为一个$(X,\mathscr{A})$到$(Y,\sigma(\mathscr{B}))$的可测映射的充分必要条件为$f^{-1}(\mathscr{B})\subseteq\mathscr{A}$；
		\item 设$f$是可测空间$(X,\mathscr{A})$到可测空间$(Y,\mathscr{B})$的可测映射，$g$是可测空间$(Y,\mathscr{B})$到可测空间$(Z,\mathscr{C})$的可测映射，则$g\circ f$是$(X,\mathscr{A})$到$(Z,\mathscr{C})$的可测映射；
		\item 设$f$是可测空间$(X,\mathscr{A})$到可测空间$(Y,\mathscr{B})$的可测映射，$\mu$是$\mathscr{A}$上的测度，定义：
		\begin{equation*}
			\forall\;B\in\mathscr{B},\;\nu(B)=\mu[f^{-1}(B)]
		\end{equation*}
		则$(Y,\mathscr{B},\nu)$是测度空间，且：
		\begin{enumerate}
			\item 若$(X,\mathscr{A},\mu)$是概率空间，则$(Y,\mathscr{B},\nu)$也是概率空间；
			\item 若$\mu$是有限测度，则$\nu$也是有限测度；
			\item 若$\mu$是$\sigma$有限测度，则$\nu$也是$\sigma$有限测度。
		\end{enumerate}
	\end{enumerate}
\end{property}
\begin{proof}
	(1)由可测映射的定义：
	\begin{equation*}
		\text{$f$为一个$(X,\mathscr{A})$到$(Y,\sigma(\mathscr{B}))$的可测映射}
		\Leftrightarrow f^{-1}[\sigma(\mathscr{B})]\subseteq\mathscr{A}
		\Leftrightarrow
		\sigma[f^{-1}(\mathscr{B})]\subseteq\mathscr{A}
	\end{equation*}\par
	\textbf{必要性：}若$\sigma[f^{-1}(\mathscr{B})]\subset\mathscr{A}$，则$f^{-1}(\mathscr{B})\subseteq\sigma[f^{-1}(\mathscr{B})]\subseteq\mathscr{A}$。\par
	\textbf{充分性：}若$f^{-1}(\mathscr{B})\subseteq\mathscr{A}$，因为$\mathscr{A}$是一个$\sigma$域，由生成的定义可知$\sigma[f^{-1}(\mathscr{B})]\subseteq\mathscr{A}$。\par
	(2)因为$f$是可测空间$(X,\mathscr{A})$到可测空间$(Y,\mathscr{B})$的可测映射，所以$f^{-1}(\mathscr{B})\subseteq\mathscr{A}$。因为$g$是可测空间$(Y,\mathscr{B})$到可测空间$(Z,\mathscr{C})$的可测映射，所以$g^{-1}(\mathscr{C})\subseteq\mathscr{B}$。由\cref{theo:PropertyOfPreimage}(2)可得：
	\begin{equation*}
		(g\circ f)^{-1}(\mathscr{C})=f^{-1}[g^{-1}(\mathscr{C})]\subseteq f^{-1}(\mathscr{B})\subseteq\mathscr{A}
	\end{equation*}\par
	(3)由\cref{theo:PropertyOfPreimage}(1)可知$\nu(\varnothing)=\mu[f^{-1}(\varnothing)]=\mu(\varnothing)=0$。取$\mathscr{B}$中互不相交的$\{B_n\}$，根据映射的定义可知$\{f^{-1}(B_n)\}$也互不相交，所以由\cref{theo:PropertyOfPreimage}(4)可得：
	\begin{align*}
		\nu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)&=\mu\left[f^{-1}\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\right]=\mu\left[\underset{n=1}{\overset{+\infty}{\cup}}f^{-1}(A_n)\right] \\
		&=\sum_{n=1}^{+\infty}\mu[f^{-1}(A_n)]=\sum_{n=1}^{+\infty}\nu(A_n)
	\end{align*}
	于是$\nu$是$(Y,\mathscr{B})$上的测度。\par
	若$(X,\mathscr{A},\mu)$是概率空间，即$\mu(X)=1$，由\cref{theo:PropertyOfPreimage}(1)可知$\nu(Y)=\mu[f^{-1}(Y)]=\mu(X)=1$，所以$(Y,\mathscr{B},\nu)$也是一个概率空间。\par
	若$\mu$是有限测度，由$\nu$的定义即可得$\nu$也是有限测度。\par
	\info{未完成}
\end{proof}
\begin{note}
	上述第三条性质是一个很重要的结论，$\nu$被称之为pushforward measure，在数理统计和积分的变量替换中有很多它的应用。需要注意到的一点是$\nu$在$(X,\sigma(f))$上也构成一个测度，这句话不太对，因为$\nu$是定义在$\mathscr{B}$上的，但一些书也把$\sigma(f)$看作其定义域，其实就是$\mu$限制在$\sigma(f)$上的结果，根据\cref{prop:Measure}(4)即可得出结论。
\end{note}

\subsection{可测函数}
\begin{definition}
	从可测空间$(X,\mathscr{A})$到可测空间$(\overline{\mathbb{R}},\mathcal{B}_{\overline{\mathbb{R}}})$的可测映射称为$(X,\mathscr{A})$上的\gls{MeasurableFunction}。特别的，从可测空间$(X,\mathscr{A})$到可测空间$(\mathbb{R},\mathcal{B})$的可测映射称为$(X,\mathscr{A})$上的有限值可测函数或\gls{r.v.}或Borel可测函数（简称Borel函数）。
\end{definition}
\subsubsection{简单函数}
\begin{definition}
	对于空间$X$，如果存在有限个互不相交的集合$\{A_i\subseteq X:i=1,2,\dots,n\}$满足：
	\begin{equation*}
		\underset{i=1}{\overset{n}{\cup}}A_i=X
	\end{equation*}
	则称$\{A_i\subseteq X:i=1,2,\dots,n\}$为$X$的一个\textbf{有限分割}。如果还有$A_i\in \mathscr{A},\;\forall\;i=1,2,\dots,n$，则称$\{A_i\subseteq X:i=1,2,\dots,n\}$为可测空间$(X,\mathscr{A})$的一个\textbf{有限可测分割}。当$\{A_n\in\mathscr{A}\},n\in\mathbb{N}^+$是一个元素间互不相交的集族且满足：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}A_n=X
	\end{equation*}
	时，称$\{A_n\}$为可测空间$(X,\mathscr{A})$的一个\textbf{可列可测分割}。
\end{definition}
\begin{definition}
	对于可测空间$(X,\mathscr{A})$上的函数$\varphi:X\rightarrow \mathbb{R}$，如果存在有限可测分割$\{A_i\in \mathscr{A}:i=1,2,\dots,n\}$和$\{a_i\in\mathbb{R}:i=1,2,\dots,n\}$使得：
	\begin{equation*}
		\varphi(x)=\sum_{i=1}^{n}a_iI_{A_i}(x)
	\end{equation*}
	其中$I_{A_i}(x)$为表示$x$是否在$A_i$中的指示函数，则称$\varphi(x)$为\gls{SimpleFunction}。
\end{definition}
\begin{property}\label{prop:SimpleFunction}
	简单函数具有如下性质：
	\begin{enumerate}
		\item 简单函数是可测函数；
		\item 设$\varphi,\psi$为可测空间$(X,\mathscr{A})$上的简单函数，可分别表示为：
		\begin{equation*}
			\varphi(x)=\sum_{i=1}^{m}c_iI_{E_i}(x),\quad
			\psi(x)=\sum_{j=1}^{n}d_jI_{F_j}(x)
		\end{equation*}
		则：
		\begin{enumerate}
			\item 对任意的$\alpha,\beta\in\mathbb{R}$，$\alpha\varphi+\beta\psi$是简单函数，且可以表示为：
			\begin{equation*}
				\alpha\varphi(x)+\beta\psi(x)=\sum_{i=1}^{m}\sum_{j=1}^{n}(\alpha c_i+\beta d_j)I_{E_i\cap F_j}(x)
			\end{equation*}
			\item $\varphi\psi$是简单函数，且可以表示为：
			\begin{equation*}
					\varphi(x)\psi(x)=\sum_{i=1}^{m}\sum_{j=1}^{n}c_id_jI_{E_i\cap F_j}(x)
			\end{equation*}
			\item 若$\varphi$的值域中不含$0$，则$\dfrac{\psi}{\varphi}$也是简单函数，且可以表示为：
			\begin{equation*}
				\frac{\psi}{\varphi}=\sum_{i=1}^{m}\sum_{j=1}^{n}\frac{d_j}{c_i}I_{E_i\cap F_j}(x)
			\end{equation*}
			\item $|\varphi|$是简单函数，且可以表示为：
			\begin{equation*}
				\varphi(x)=\sum_{i=1}^{m}|c_i|I_{E_i}(x)
			\end{equation*}
			\item $\max\{\varphi,\psi\},\min\{\varphi,\psi\}$是简单函数，且分别可以表示为：
			\begin{gather*}
				\max\{\varphi(x),\psi(x)\}=\sum_{i=1}^{m}\sum_{j=1}^{n}\max\{c_i,d_j\}I_{E_i\cap F_j}(x) \\
				\min\{\varphi(x),\psi(x)\}=\sum_{i=1}^{m}\sum_{j=1}^{n}\min\{c_i,d_j\}I_{E_i\cap F_j}(x)
			\end{gather*}
		\end{enumerate}
		\item 可测空间$(X,\mathscr{A})$上集合$A\in\mathscr{A}$的指示函数$I_A$是简单函数。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)由可测函数的定义和\cref{prop:SigmaField}(3)即可得到。\par
	(2)\textbf{线性运算：}注意到：
	\begin{align*}
		\alpha\varphi(x)+\beta\psi(x)
		&=\alpha\sum_{i=1}^{m}c_iI_{E_i}(x)+\beta\sum_{j=1}^{n}d_jI_{F_j}(x) \\
		&=\alpha\sum_{i=1}^{m}c_i\sum_{j=1}^{n}I_{E_i\cap F_j}(x)+\beta\sum_{j=1}^{n}d_j\sum_{i=1}^{m}I_{E_i\cap F_j}(x) \\
		&=\sum_{i=1}^{m}\sum_{j=1}^{n}\alpha c_iI_{E_i\cap F_j}(x)+\sum_{j=1}^{n}\sum_{i=1}^{m}\beta d_jI_{E_i\cap F_j}(x) \\
		&=\sum_{i=1}^{m}\sum_{j=1}^{n}(\alpha c_i+\beta d_j)I_{E_i\cap F_j}(x)
	\end{align*}
	由\cref{prop:SigmaField}(2)、\cref{prop:SetOperation}(4)可得：
	\begin{equation*}
		\underset{i=1}{\overset{m}{\cup}}\underset{j=1}{\overset{n}{\cup}}(E_i\cap F_j)=\underset{i=1}{\overset{m}{\cup}}\left[E_i\cap\left(\underset{j=1}{\overset{n}{\cup}}F_j\right)\right]=\underset{i=1}{\overset{m}{\cup}}E_i=X
	\end{equation*}
	并且$\{E_i\cap F_j:i=1,2,\dots,m,\;j=1,2,\dots,n\}\subseteq\mathscr{A}$，所以它是$X$的有限可测分割，由此可知结论成立。\par
	\textbf{乘法：}注意到：
	\begin{equation*}
		\varphi(x)\psi(x)=\left[\sum_{i=1}^{m}c_iI_{E_i}(x)\right]\left[\sum_{j=1}^{n}d_jI_{F_j}(x)\right]=\sum_{i=1}^{m}\sum_{j=1}^{n}c_id_jI_{E_i\cap F_j}(x)
	\end{equation*}
	显然$\varphi\psi$是一个简单函数。\par
	\textbf{除法：}当$\varphi$的值域不含$0$时，$\dfrac{1}{\varphi}$是一个简单函数，由简单函数对乘法的封闭性即可得到：
	\begin{equation*}
		\frac{\psi}{\varphi}=\sum_{i=1}^{m}\sum_{j=1}^{n}\frac{d_j}{c_i}I_{E_i\cap F_j}(x)
	\end{equation*}\par
	\textbf{绝对值：}显然。\par
	\textbf{最大值最小值：}显然。\par
	(3)由$\sigma$域对补封闭即可得到：
	\begin{equation*}
		I_A(x)=1I_A(x)+0I_{A^c}(x)
	\end{equation*}
	符合简单函数的定义。
\end{proof}
\subsubsection{可测函数的性质}
\begin{definition}
	设$f(x)$是可测空间$(X,\mathscr{A})$上的可测函数，令：
	\begin{gather*}
		f^+(x)=\max\{f(x),0\}=
		\begin{cases}
			f(x),&f(x)\geqslant 0 \\
			0,&f(x)<0
		\end{cases} \\
		f^-(x)=-\min\{f(x),0\}=
		\begin{cases}
			-f(x),&f(x)\leqslant 0 \\
			0,&f(x)>0
		\end{cases}
	\end{gather*}
	分别称$f^+(x)$和$f^-(x)$为$f(x)$的正部和负部。
\end{definition}
下面用$\{f<a\}$表示$\{x:f(x)<a\}$，小于等于、大于、大于等于、等于号同理。
\begin{property}\label{prop:MeasurableFunction}
	设$(X,\mathscr{A})$是可测空间。可测函数具有如下性质：
	\begin{enumerate}
		\item $f$是$(X,\mathscr{A})$上的可测函数的充要条件为：
		\begin{enumerate}
			\item 对任意的$a\in\mathbb{R}$，$\{f<a\}\in\mathscr{A}$。
			\item 对任意的$a\in\mathbb{R}$，$\{f\leqslant a\}\in\mathscr{A}$。
			\item 对任意的$a\in\mathbb{R}$，$\{f>a\}\in\mathscr{A}$。
			\item 对任意的$a\in\mathbb{R}$，$\{f\geqslant a\}\in\mathscr{A}$。
		\end{enumerate}
		设$D$是$\mathbb{R}$上的可数稠密子集，对上述结论，把$\mathbb{R}$改为$D$仍然成立；
		\item 若$f$是$(X,\mathscr{A})$上的可测函数，则$\{f=+\infty\},\{f=-\infty\}\in\mathscr{A}$；
		\item 若$f$和$g$是$(X,\mathscr{A})$上的可测函数，则$\{f<g\},\{f\leqslant g\},\{f=g\}.\{f\ne g\}\in\mathscr{A}$，同时对于任意的$\varepsilon>0$，有$\{|f-g|\geqslant\varepsilon\},\{|f-g|>\varepsilon\}\in \mathscr{A}$。
		\item 如果$f$是$(X,\mathscr{A})$上的可测函数，则$f$为简单函数的充分必要条件为它的值域是有限个实数组成的集合；
		\item 若$f,g$是$(X,\mathscr{A})$上的可测函数，则：
		\begin{enumerate}
			\item 对任意的$\alpha,\beta\in\overline{\mathbb{R}}$，若对任意的$x\in X$，$\alpha f+\beta g$有意义，则$\alpha f+\beta g$是可测函数；
			\item $fg$是可测函数；
			\item 若对任意的$x\in X$，有$g(x)\ne0$，则$f/g$是可测函数；
			\item $|f|$是可测函数；
		\end{enumerate}
		\item $\{f_n\}$是$(X,\mathscr{A})$上的一列可测函数，则：
		\begin{equation*}
			\inf_nf_n,\;\sup_nf_n,\;
			\varliminf_{n\to+\infty}f_n,\;\varlimsup_{n\to+\infty}f_n,\;\max_nf_n,\;\min_nf_n
		\end{equation*}
		也是可测函数；
		\item 设$f$是$(X,\mathscr{A})$上的可测函数，则$f^+$和$f^-$也是可测函数；
		\item 若$f$是$(X,\mathscr{A})$上的可测函数，则存在简单函数列$\{\varphi_n\}$，使得对任意$x\in X$，$\lim\limits_{n\to+\infty}\varphi_n(x)=f(x)$。若$f(x)$有界，则上述收敛可以是一致收敛；
		\item $(\mathbb{R},\mathcal{B})$上的实值单调函数是Borel函数；
		\item $(\mathbb{R},\mathcal{B})$上的实值连续函数是Borel函数。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)由\cref{theo:BorelRwqEquivDef}中$\mathcal{B}_{\overline{\mathbb{R}}}$的等价定义(1)以及\cref{prop:MeasurableMapping}(1)可得：
	\begin{align*}
		f\text{是可测函数}
		&\Leftrightarrow f^{-1}(\mathcal{B}_{\overline{\mathbb{R}}})\subseteq\mathscr{A} \\
		&\Leftrightarrow\forall\;\alpha\in\mathbb{R},\;f^{-1}\Bigl([-\infty,\alpha)\Bigr)\in\mathscr{A} \\
		&\Leftrightarrow\forall\;\alpha\in\mathbb{R},\;\{f<a\}\in\mathscr{A}
	\end{align*}\par
	(1.b)(1.c)(1.d)同理，只需在上第一行到第二行的过程中使用\cref{theo:BorelRwqEquivDef}涉及到的对应的$\mathcal{B}_{\overline{\mathbb{R}}}$的等价定义。$D$时的情况由\cref{theo:BorelRwqEquivDef}即可得到。\par
	(2)由(1)和\cref{prop:SigmaField}(2)可得：
	\begin{equation*}
		\{f=+\infty\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f>n\}\in\mathscr{A},\quad\{f=-\infty\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f<-n\}\in\mathscr{A}
	\end{equation*}\par
	(3)由\info{有理数的稠密性}、(1)、\info{有理数集的可列性}和\cref{prop:SigmaField}(2)可得：
	\begin{equation*}
		\{f<g\}=\underset{r\in\mathbb{Q}}{\overset{}{\cup}}[\{f<r\}\cap\{g>r\}]\in\mathscr{A}
	\end{equation*}
	由$f$与$g$的对称性可得$\{g<f\}\in\mathscr{A}$，那么就有$\{f\leqslant g\}=\{g<f\}^c\in\mathscr{A}$。根据\cref{prop:SigmaField}(4)可得：
	\begin{align*}
		\{f=g\}=\{f\leqslant g\}\backslash\{f<g\}\in\mathscr{A}
	\end{align*}
	所以$\{f\ne g\}=\{f=g\}^c\in\mathscr{A}$。因为：
	\begin{equation*}
		\{|f-g|\geqslant\varepsilon\}=\{f-g\geqslant\varepsilon\}\cup\{f-g\leqslant-\varepsilon\}=\{f\geqslant g+\varepsilon\}\cup\{f\leqslant g-\varepsilon\}
	\end{equation*}
	因为$g$是可测函数，由(1)可得$g+\varepsilon$和$g-\varepsilon$也是可测函数，所以$\{f\geqslant g+\varepsilon\},\{f\leqslant g-\varepsilon\}\in\mathscr{A}$。由\cref{prop:SigmaField}(3)可得：
	\begin{equation*}
		\{|f-g|\geqslant\varepsilon\}=\{f\geqslant g+\varepsilon\}\cup\{f\leqslant g-\varepsilon\}\in \mathscr{A}
	\end{equation*}
	同理可得$\{|f-g|>\varepsilon\}\in\mathscr{A}$。\par
	(4)必要性由简单函数的定义即可立即得到。设$f$的值域为$\{a_i:i=1,2,\dots,n\}$，因为$f$是可测函数，由(1)和\cref{prop:SigmaField}(4)可得$\{f=a_i\}=\{f\leqslant a_i\}\backslash\{f<a_i\}\in\mathscr{A}$，于是$f$可表为：
	\begin{equation*}
		f(x)=\sum_{i=1}^{n}a_iI_{\{f=a_i\}}(x),\quad X=\underset{i=1}{\overset{n}{\cup}}\{f=a_i\},\quad\{f=a_i\}\cap\{f=a_j\}=\varnothing,\;\forall\;i\ne j
	\end{equation*}
	所以$f$为简单函数，充分性得证。\par
	(5)\textbf{ a：}\par
	(6)注意到：
	\begin{equation*}
		\left\{\inf_nf_n\geqslant a\right\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f_n\geqslant a\},\quad\left\{\sup_nf_n\leqslant a\right\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f_n\leqslant a\}
	\end{equation*}
	由(1)和\cref{prop:SigmaField}(2)即可得到$\inf\limits_nf_n,\sup\limits_nf_n$是可测函数。因为：
	\begin{equation*}
		\varliminf_{n\to+\infty}f_n=\sup_{n}\left(\inf_{k\geqslant n}f_k\right),\quad\varlimsup_{n\to+\infty}f_n=\inf_{n}\left(\sup_{k\geqslant n}f_k\right)
	\end{equation*}
	所以可测函数列的下极限函数与上极限函数也是可测函数。类似于上下确界可得：
	\begin{equation*}
		\left\{\min_nf_n\geqslant a\right\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f_n\geqslant a\},\quad\left\{\max_nf_n\leqslant a\right\}=\underset{n=1}{\overset{+\infty}{\cap}}\{f_n\leqslant a\}
	\end{equation*}
	由(1)和\cref{prop:SigmaField}(2)即可得到$\max\limits_nf_n,\min\limits_nf_n$是可测函数。\par
	(7)由可测函数的定义，$g(x)=0$是一个可测函数。根据(5)可知此时$f^+(x),f^-(x)$是可测函数。\par
	(8)\textbf{非负可测函数：}对任意的$n\in\mathbb{N}^+$，将$[0,n]$分为$n2^n$份，令：
	\begin{gather*}
		E_{nj}=\left\{\frac{j-1}{2^n}\leqslant f<\frac{j}{2^n}\right\},\;j=1,2,\dots,n2^n ,\quad E_n=\{f\geqslant n\}
	\end{gather*}
	作函数列：
	\begin{equation*}
		\varphi_n(x)=
		\begin{cases}
			\dfrac{j-1}{2^n},&x\in E_{nj} \\
			n,&x\in E_n
		\end{cases}
	\end{equation*}
	由(1)和\cref{prop:SigmaField}(4)可得$\varphi_n(x)$是简单函数，并且有：
	\begin{equation*}
		\varphi_n(x)\leqslant\varphi_{n+1}(x)\leqslant f(x),\quad\forall\;n\in\mathbb{N}^+
	\end{equation*}
	设$x\in X$，若$f(x)<+\infty$，则当$n>f(x)$时有：
	\begin{equation*}
		0\leqslant f(x)-\varphi_n(x)\leqslant 2^{-n}
	\end{equation*}
	若$f(x)=+\infty$，则$\varphi_n(x)=n,\;n=1,2,\dots$，因此$\lim\limits_{n\to+\infty}\varphi_n(x)=f(x)$。\par
	\textbf{一般可测函数：}$f=f^+-f^-$，若$f$是可测函数，由(7)可知$f^+,f^-$也是可测函数，所以存在简单函数列$\{\varphi_n^+\}$和$\{\varphi_n^-\}$，使得对任意的$x\in X$，有：
	\begin{equation*}
		\lim\limits_{n\to+\infty}\varphi_n^+(x)=f^+(x),\;
		\lim\limits_{n\to+\infty}\varphi_n^-(x)=f^-(x)
	\end{equation*}
	令$\varphi_n=\varphi_n^+-\varphi_n^-$，由\cref{prop:SimpleFunction}(2)可知$\{\varphi_n(x)\}$是简单函数列，且对任意的$x\in X$，$\lim\limits_{n\to+\infty}\varphi_n(x)=f(x)$。\par
	若$f(x)$有界，设$\sup\limits_{x\in X}\{|f(x)|\}=M$，则由非负可测函数情况下的证明过程，当$n>M$时有：
	\begin{equation*}
		\sup_{x\in X}\{|f^+(x)-\varphi_n^+(x)|\}\leqslant\frac{1}{2^n},\quad
		\sup_{x\in X}\{|f^-(x)-\varphi_n^-(x)|\}\leqslant\frac{1}{2^n}
	\end{equation*}
	因此由\info{上确界的性质}可得：
	\begin{align*}
		\sup_{x\in X}\{|f(x)-\varphi_n(x)|\}
		&=\sup_{x\in X}\{|f^+(x)-f^-(x)-\varphi_n^+(x)+\varphi_n^-(x)|\} \\
		&\leqslant\sup_{x\in X}\{|f^+(x)-\varphi_n^+(x)|+|f^-(x)-\varphi_n^-(x)|\} \\
		&\leqslant\sup_{x\in X}\{|f^+(x)-\varphi_n^+(x)|\}+\sup_{x\in X}\{|f^-(x)-\varphi_n^-(x)|\} \\
		&\leqslant\frac{1}{2^{n-1}}
	\end{align*}
	所以$\{\varphi_n\}$在$X$上一致收敛于$f$。\par
	(9)由(1.a)和\cref{prop:BorelSigmaField}(1.c)立即可得。\par
	(10)由\cref{theo:ContinousMapO2OC2C}、\cref{prop:BorelSigmaField}(1.a)和\cref{theo:GeneratedSigmaFieldEqual}即可得到。
\end{proof}

\subsection{可测函数的收敛性}
\subsubsection{几乎处处收敛}
\begin{definition}
	设$\{f_n\}$和$f$是测度空间$(X,\mathscr{F},\mu)$上的可测函数，如果：
	\begin{equation*}
		\mu\left(\left\{\lim_{n\to+\infty}f_n\ne f\right\}\right)=0
	\end{equation*}
	则称可测函数列$\{f_n\}\;$a.e.以$f$为极限，记为$f_n\overset{\text{a.e.}}{\longrightarrow}f$。若此时还有$f$有限a.e.于$X$，则称$\{f_n\}\;$a.e.收敛到$f$。若$(X,\mathscr{F},P)$是概率空间，称$\{f_n\}\;$a.e.收敛到$f$为$\{f_n\}$几乎必然收敛到$f$，记作$f_n\overset{\text{a.s.}}{\longrightarrow}f$。
\end{definition}
\begin{theorem}\label{theo:EquiConditiona.e.}
	设$\{f_n\}$和$f$是测度空间$(X,\mathscr{F},\mu)$上的可测函数，$\{f_n\}\;$a.e.收敛于$f$的充分必要条件为对任意的$\varepsilon>0$，有\footnote{从今往后，对任何的$\varepsilon>0$和$n\in\mathbb{N}^+$，$f_n(x)-f(x)$没有定义的$x\in X$也计入集合$\{|f_n-f|\geqslant\varepsilon\}$}：
	\begin{equation*}
		\mu\left(\varlimsup_{n\to+\infty}\{|f_n-f|\geqslant\varepsilon\}\right)=0
	\end{equation*}
\end{theorem}
\begin{proof}
	若$\lim\limits_{n\to+\infty}f_n(x)\ne f(x)$，则有：
	\begin{equation*}
		\exists\;k\in\mathbb{N}^+,\;\forall\;N\in\mathbb{N}^+,\;\exists\;n\geqslant N,\;|f_n(x)-f(x)|\geqslant\frac{1}{k}
	\end{equation*}
	于是：
	\begin{equation*}
		\left\{\lim_{n\to+\infty}f_n\ne f\right\}=\underset{k=1}{\overset{+\infty}{\cup}}\underset{m=1}{\overset{+\infty}{\cap}}\underset{n=m}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}
	\end{equation*}\par
	\textbf{(1)充分性：}此时由\cref{prop:Measure}(3)可得：
	\begin{align*}
		\mu\left(\left\{\lim_{n\to+\infty}f_n\ne f\right\}\right)
		&=\mu\left(\underset{k=1}{\overset{+\infty}{\cup}}\underset{m=1}{\overset{+\infty}{\cap}}\underset{n=m}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right) \\
		&\leqslant\sum_{k=1}^{+\infty}\mu\left(\underset{m=1}{\overset{+\infty}{\cap}}\underset{n=m}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right) \\
		&=\sum_{k=1}^{+\infty}\mu\left(\varlimsup_{n\to+\infty}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)=0
	\end{align*}
	由测度的非负性即可得到：
	\begin{equation*}
		\mu\left(\lim_{n\to+\infty}f_n\ne f\right)=0
	\end{equation*}\par
	\textbf{(2)必要性：}对任意取定的$\varepsilon>0$，若：
	\begin{equation*}
		x\in\varlimsup_{n\to+\infty}\{|f_n-f|\geqslant\varepsilon\}
	\end{equation*}
	则：
	\begin{equation*}
		\forall\;m\in\mathbb{N}^+,\;\exists\;n\geqslant m,\;|f_n(x)-f(x)|\geqslant \varepsilon
	\end{equation*}
	即：
	\begin{equation*}
		\lim_{n\to+\infty}f_n(x)\ne f(x)
	\end{equation*}
	于是对这个$\varepsilon$，有：
	\begin{equation*}
		\varlimsup_{n\to+\infty}\{|f_n-f|\geqslant\varepsilon\}\subseteq\left\{\lim_{n\to+\infty}f_n\ne f\right\}
	\end{equation*}
	因为$f_n,f$都是可测函数，由\cref{prop:MeasurableFunction}(3)可知$\{|f_n-f|\geqslant\varepsilon\}\in\mathscr{F}$，根据\cref{prop:SigmaField}(2)可得：
	\begin{equation*}
		\varlimsup_{n\to+\infty}\{|f_n-f|\geqslant\varepsilon\}=\underset{m=1}{\overset{+\infty}{\cap}}\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\in \mathscr{F}
	\end{equation*}
	由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu\left(\varlimsup_{n\to+\infty}\{|f_n-f|\geqslant\varepsilon\}\right)=0\qedhere
	\end{equation*}
\end{proof}
\subsubsection{几乎一致收敛}
\begin{definition}
	设$\{f_n\}$和$f$是测度空间$(X,\mathscr{F},\mu)$上的可测函数。如果对任意的$\varepsilon>0$，存在$A\in \mathscr{F}$使得$\mu(A)<\varepsilon$且：
	\begin{equation*}
		\lim_{n\to+\infty}\sup_{x\notin A}|f_n(x)-f(x)|=0
	\end{equation*}
	则称$\{f_n\}$几乎一致收敛到$f$，记为$f_n\overset{\text{a.u.}}{\longrightarrow}f$。
\end{definition}
\begin{theorem}\label{theo:EquiConditiona.u.}
	设$\{f_n\}$和$f$是测度空间$(X,\mathscr{F},\mu)$上的可测函数，$f_n\overset{\text{a.u.}}{\longrightarrow}f$的充分必要条件为对任意的$\varepsilon$有：
	\begin{equation*}
		\lim_{m\to+\infty}\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)=0
	\end{equation*}
\end{theorem}
\begin{proof}
	\textbf{(1)必要性：}因为$\{f_n\}\overset{\text{a.u.}}{\longrightarrow}f$，所以：
	\begin{equation*}
		\forall\;\delta>0,\;\exists\;A\in \mathscr{F},\;\mu(A)<\delta,\;\forall\;\varepsilon>0,\;\exists\;m\in \mathbb{N}^+,\;\forall\;n>m,\;\sup_{x\notin A}|f_n(x)-f(x)|<\varepsilon
	\end{equation*}
	即：
	\begin{equation*}
		\forall\;\delta>0,\;\exists\;A\in \mathscr{F},\;\mu(A)<\delta,\;\forall\;\varepsilon>0,\;\exists\;m\in\mathbb{N}^+,\;A^c\subseteq\underset{n=m}{\overset{+\infty}{\cap}}\{|f_n-f|<\varepsilon\}
	\end{equation*}
	于是由\cref{prop:SetOperation}(7)可得：
	\begin{equation*}
		\forall\;\delta>0,\;\exists\;A\in \mathscr{F},\;\mu(A)<\delta,\;\forall\;\varepsilon>0,\;\exists\;m\in\mathbb{N}^+,\;\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\subseteq A
	\end{equation*}
	因为$f_n$和$f$都是可测函数，由\cref{prop:MeasurableFunction}(3)可知$\{|f_n-f|\geqslant\varepsilon\}\in \mathscr{F}$。因为$\mathscr{F}$是一个$\sigma$域，对可列并封闭，所以：
	\begin{equation*}
		\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\in \mathscr{F}
	\end{equation*}
	由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)\leqslant\mu(A)<\delta
	\end{equation*}
	所以：
	\begin{equation*}
		\forall\;\delta>0,\;\forall\;\varepsilon>0,\;\exists\;m\in\mathbb{N}^+,\;\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)<\delta
	\end{equation*}
	即：
	\begin{equation*}
		\forall\;\varepsilon>0,\;\forall\;\delta>0,\;\exists\;m\in\mathbb{N}^+,\;\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)<\delta
	\end{equation*}
	取$\delta=\dfrac{1}{k}$，则：
	\begin{equation*}
		\forall\;\varepsilon>0,\;\exists\;m_k\in\mathbb{N}^+,\;\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)<\frac{1}{k}
	\end{equation*}
	令$k\to+\infty$，结合测度的非负性就有：
	\begin{equation*}
		\forall\;\varepsilon>0,\;\lim_{m\to+\infty}\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\{|f_n-f|\geqslant\varepsilon\}\right)=0
	\end{equation*}\par
	\textbf{(2)充分性：}对任意的$\delta>0$，由所给条件，对$k\in\mathbb{N}^+$有：
	\begin{equation*}
		\lim_{m\to+\infty}\mu\left(\underset{n=m}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)=0	
	\end{equation*}
	于是存在$\{m_k\}$使得：
	\begin{equation*}
		\mu\left(\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)<\frac{\delta}{2^k}
	\end{equation*}
	取：
	\begin{equation*}
		A=\underset{k=1}{\overset{+\infty}{\cup}}\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}
	\end{equation*}
	由\cref{prop:MeasurableFunction}(3)可得$A\in \mathscr{F}$，于是根据\cref{prop:Measure}(3)可得：
	\begin{align*}
		\mu(A)&=\mu\left(\underset{k=1}{\overset{+\infty}{\cup}}\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right) \\
		&\leqslant\sum_{k=1}^{+\infty}\mu\left(\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)<\delta
	\end{align*}
	注意到：
	\begin{align*}
		A^c&=\left(\underset{k=1}{\overset{+\infty}{\cup}}\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)^c=\underset{k=1}{\overset{+\infty}{\cap}}\left(\underset{n=m_k}{\overset{+\infty}{\cup}}\left\{|f_n-f|\geqslant\frac{1}{k}\right\}\right)^c \\
		&=\underset{k=1}{\overset{+\infty}{\cap}}\underset{n=m_k}{\overset{+\infty}{\cap}}\left\{|f_n-f|<\frac{1}{k}\right\}
	\end{align*}
	所以若$x\notin A$，则对任意的$k\in \mathbb{N}^+$，当$n\geqslant m_k$时就有：
	\begin{equation*}
		|f_n(x)-f(x)|<\frac{1}{k}
	\end{equation*}
	由上确界的不等式性，此时即：
	\begin{equation*}
		\forall\;k\in\mathbb{N}^+,\;\exists\;m_k\in\mathbb{N}^+,\;\forall\;n\geqslant m_k,\;\sup_{x\notin A}|f_n(x)-f(x)|\leqslant\frac{1}{k}
	\end{equation*}
	也即：
	\begin{equation*}
		\lim_{n\to+\infty}\sup_{x\notin A}|f_n(x)-f(x)|=0
	\end{equation*}
	所以$f_n\overset{\text{a.u.}}{\longrightarrow}f$。
\end{proof}
\subsubsection{依测度收敛}
\begin{definition}
	设$\{f_n\}$和$f$时测度空间$(X,\mathscr{F},\mu)$上的可测函数。如果对任意的$\varepsilon>0$都有：
	\begin{equation*}
		\lim_{n\to+\infty}\mu(\{|f_n-f|\geqslant\varepsilon\})=0
	\end{equation*}
	则称可测函数列$\{f_n\}$\gls{ConvergentInMeasure}到$f$，记为$f_n\overset{\mu}{\longrightarrow}f$。若$(X,\mathscr{F},P)$是概率空间，称$f_n\overset{P}{\longrightarrow}f$为$\{f_n\}$\gls{ConvergentInProbability}到$f$。
\end{definition}
\subsubsection{依分布收敛}
\begin{theorem}\label{theo:Quasi-distributionMeasure}
	设$X=\mathbb{R},\;\mathscr{A}=\{(a,b]:a,b\in\mathbb{R}\}$，$F$为$\mathbb{R}$上非降右连续实值函数。对任意的$a,b\in\mathbb{R}$，令：
	\begin{equation*}
		\mu\Bigl((a,b]\Bigr)=
		\begin{cases}
			F(b)-F(a),&a<b \\
			0,&a\geqslant b
		\end{cases}
	\end{equation*}
	则$\mu$是$\mathscr{A}$上的测度。
\end{theorem}
\begin{definition}
	称$\mathbb{R}$上非降右连续实值函数$F$为\gls{Qausi-DistributionFunction}。若$F$还满足：
	\begin{equation*}
		\lim_{x\to-\infty}F(x)=0,\;\lim_{x\to+\infty}F(x)=1
	\end{equation*}
	则称$F$为\gls{d.f.}。
\end{definition}
\begin{theorem}
	设$f$是概率空间$(X,\mathscr{F},P)$上的随机变量，对任意的$x\in\mathbb{R}$，令：
	\begin{equation*}
		F(x)=P(\{f\leqslant x\})
	\end{equation*}
	则$F$是一个分布函数。
\end{theorem}
\begin{proof}
	(1)由\cref{prop:Measure}(3)可得$F(x)$是一个非降的实值函数。\par
	(2)注意到：
	\begin{equation*}
		\{f\leqslant x\}=\lim_{n\to+\infty}\left\{f\leqslant x+\frac{1}{n}\right\}
	\end{equation*}
	考虑集族：
	\begin{equation*}
		\left\{X_n=\left\{f\leqslant x+\frac{1}{n}\right\}\right\}
	\end{equation*}
	则$\{X_n\}$是一个单调不增的集族，有：
	\begin{equation*}
		\lim_{n\to+\infty}X_n=\underset{n=1}{\overset{+\infty}{\cap}}X_n=\underset{n=1}{\overset{+\infty}{\cap}}\left\{f\leqslant x+\frac{1}{n}\right\}
	\end{equation*}
	因为$P(X=1)$，由\cref{prop:Measure}(3)可得$P(X_1)<+\infty$，所以根据\cref{prop:Measure}(3)可得：
	\begin{align*}
		F(x)&=P(\{f\leqslant x\})
		=P\left(\lim_{n\to+\infty}\left\{f\leqslant x+\frac{1}{n}\right\}\right)
		=P\left(\lim_{n\to+\infty}X_n\right) \\
		&=\lim_{n\to+\infty}P(X_n)
		=\lim_{n\to+\infty}P\left(\left\{f\leqslant x+\frac{1}{n}\right\}\right)
		=\lim_{h\to+0}F(x+h)
	\end{align*}
	于是$F(x)$是右连续的。\par
	(3)注意到$f$是一个实值函数，由\cref{prop:Measure}(3)可得：
	\begin{gather*}
		\lim_{x\to-\infty}F(x)=\lim_{x\to-\infty}P(f\leqslant x)=P(f\leqslant-\infty)=P(\varnothing)=0 \\
		\lim_{x\to+\infty}F(x)=\lim_{x\to+\infty}P(f\leqslant x)=P(f\leqslant+\infty)=P(X)=1\qedhere
	\end{gather*}
\end{proof}
\begin{definition}
	设$f$是概率空间$(X,\mathscr{F},P)$上的随机变量，$F$是一个分布函数。若对任意的$x\in\mathbb{R}$，都有：
	\begin{equation*}
		F(x)=P(\{f\leqslant x\})
	\end{equation*}
	则称r.v.$\;f$的分布函数是$F$，也说成$f$服从$F$，记为$f\sim F$。若$f$是从概率空间$(X,\mathscr{F},P)$到可测空间$(Y,\mathscr{A})$的可测映射，称：
	\begin{equation*}
		P(f^{-1}A),\;\forall\;A\in \mathscr{A}
	\end{equation*}
	为$f$的\gls{ProbabilityDistribution}，简记为$Pf^{-1}$。在没有明确可测映射的场合，也称概率测度$P$为概率分布。
\end{definition}
\begin{note}
	可以看出随机变量的分布函数为其概率分布在$\{(-\infty,a]:a\in\mathbb{R}^{}\}$上的取值。
\end{note}
\begin{definition}
	设$F$是一个准分布函数。定义：
	\begin{equation*}
		\forall\;t\in(F(-\infty),F(+\infty)),\;F^{\leftarrow}(t)=\inf\{x\in\mathbb{R}^{}:F(x)\geqslant t\}
	\end{equation*}
	称$F^{\leftarrow}$为$F$的\gls{Left-continuousInverse}。
\end{definition}
\begin{property}
	对任意的准分布函数$F$，有：
	\begin{enumerate}
		\item $\forall\;t\in(F(-\infty),F(+\infty)),\;F^{\leftarrow}(t)\in\mathbb{R}^{}$；
		\item $F^{\leftarrow}$左连续；
		\item $\forall\;t\in(F(-\infty),F(+\infty)),\;\forall\;x\in\mathbb{R}^{},\;F^{\leftarrow}(t)\leqslant x\Leftrightarrow F(x)\geqslant t$。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)若存在$t\in(F(-\infty),F(+\infty))$使得$F^{\leftarrow}(t)=-\infty$，\par
	(2)注意到：
	\begin{equation*}
		\lim_{y\to t-}F^{\leftarrow}(y)=\lim_{y\to t-}\inf\{x\in\mathbb{R}^{}:F(x)\geqslant y\}
	\end{equation*}\par
	(3)由$F$的单调性可得：
	\begin{equation*}
		F^{\leftarrow}(t)\leqslant x\Leftrightarrow\inf\{y\in\mathbb{R}^{}:F(y)\geqslant t\}\leqslant x\Leftrightarrow F(x)\geqslant t\qedhere
	\end{equation*}
\end{proof}
\begin{theorem}
	对任何分布函数$F$，必存在一个概率空间$(X,\mathscr{F},P)$和其上的随机变量$f$使得$f\sim F$。
\end{theorem}
\begin{definition}
	设$\{f_n\sim F_n\}$是概率空间$(X,\mathscr{F},P)$上的随机变量序列，$F$是一个分布函数。若对于$F$的每一个连续点$x$都有：
	\begin{equation*}
		\lim_{n\to+\infty}F_n(x)=F(x)
	\end{equation*}
	则称$\{f_n\}$\gls{ConvergentInDistribution}，记为$f_n\overset{d}{\longrightarrow}F$。若此时概率空间$(X,\mathscr{F},P)$上的随机变量$f\sim F$，则称随机变量序列$\{f_n\}$依分布收敛到$f$，记为$f_n\overset{d}{\longrightarrow}f$。
\end{definition}

\subsubsection{收敛性之间的关系}
\begin{theorem}\label{theo:a.e.a.u.mu.d}
	设$\{f_n\}$和$f$为测度空间$(X,\mathscr{F},\mu)$上的可测函数，则：
	\begin{enumerate}
		\item $f_n\overset{\text{a.u.}}{\longrightarrow}f$可推出$f_n\overset{\textbf{a.e.}}{\longrightarrow}f$和$f_n\overset{\mu}{\longrightarrow}f$；
		\item 若$\mu(X)<+\infty$，则$f_n\overset{\text{a.u.}}{\longrightarrow}f\iff f_n\overset{\text{a.e.}}{\longrightarrow}f\Rightarrow f_n\overset{\mu}{\longrightarrow}f$；
		\item $f_n\overset{\mu}{\longrightarrow}f$当且仅当对$\{f_n\}$的任一子列，存在该子列的子列$\{f_{n_k}\}$使得$f_{n_k}\overset{\text{a.u.}}{\longrightarrow}f$；
		\item $f_n\overset{P}{\longrightarrow}f$可推出$f_n\overset{d}{\longrightarrow}f$；
		\item 当$f$为常值函数时，$f_n\overset{P}{\longrightarrow}f\iff f_n\overset{d}{\longrightarrow}f$
	\end{enumerate}
\end{theorem}
\begin{proof}
	(1)对任意的$n\in\mathbb{N}^+$和任意的$\varepsilon>0$，由\cref{prop:MeasurableFunction}(3)可得$\{|f_n-f|\geqslant\varepsilon\}$是可测集，由\cref{prop:SigmaField}(2)可得：
	\begin{equation*}
		\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\in \mathscr{F},\;\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\in \mathscr{F}
	\end{equation*}
	因为：
	\begin{gather*}
		\{|f_n-f|\geqslant\varepsilon\}\subseteq\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\} \\
		\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\subseteq\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}
	\end{gather*}
	由\cref{prop:Measure}(3)可得：
	\begin{gather*}
		\mu(\{|f_n-f|\geqslant\varepsilon\})\leqslant\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right) \\
		\mu\left(\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)\leqslant\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right) 
	\end{gather*}
	因为$f_n\overset{\text{a.u.}}{\longrightarrow}f$，由极限的不等式性和测度的非负性可得：
	\begin{gather*}
		0\leqslant\lim_{n\to+\infty}\mu(\{|f_n-f|\geqslant\varepsilon\})\leqslant\lim_{n\to+\infty}\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)=0 \\
		0\leqslant\mu\left(\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)\leqslant\lim_{n\to+\infty}\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)=0
	\end{gather*}
	所以：
	\begin{equation*}
		\lim_{n\to+\infty}\mu(\{|f_n-f|\geqslant\varepsilon\})=0,\;\mu\left(\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)=0
	\end{equation*}
	即$f_n\overset{\mu}{\longrightarrow}f,\;f_n\overset{a.e.}{\longrightarrow}f$。\par
	(2)设$f_n\overset{a.e.}{\longrightarrow}f$，令：
	\begin{equation*}
		\left\{X_n=\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right\}
	\end{equation*}
	显然$\{X_n\}$是一个单调不增序列，其极限为：
	\begin{equation*}
		\lim_{n\to+\infty}X_n=\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}
	\end{equation*}
	由\cref{prop:Measure}(3)和$\mu(X)<+\infty$可知$\mu(X_1)<+\infty$并且有：
	\begin{equation*}
		\mu\left(\lim_{n\to+\infty}X_n\right)=\lim_{n\to+\infty}\mu(X_n)
	\end{equation*}
	于是：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cap}}\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)=\lim_{n\to+\infty}\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)
	\end{equation*}
	所以：
	\begin{equation*}
		\lim_{n\to+\infty}\mu\left(\underset{m=n}{\overset{+\infty}{\cup}}\{|f_m-f|\geqslant\varepsilon\}\right)=0
	\end{equation*}
	即$f_n\overset{a.u.}{\longrightarrow}f$，再结合(1)即可得出结论。\par
	(3)\textbf{必要性：}因为$f_n\overset{\mu}{\longrightarrow}f$，所以对$k\in\mathbb{N}^+$可取$n_k$使得：
	\begin{equation*}
		\mu\left(\left\{|f_{n_k}-f|\geqslant\frac{1}{k}\right\}\right)<\frac{1}{2^k}
	\end{equation*}
	由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu\left(\underset{k=m}{\overset{+\infty}{\cup}}\left\{|f_{n_k}-f|\geqslant\frac{1}{k}\right\}\right)\leqslant\sum_{k=m}^{+\infty}\mu\left(\left\{|f_{n_k}-f|\geqslant\frac{1}{k}\right\}\right)<\sum_{k=m}^{+\infty}\frac{1}{2^k}=\frac{1}{2^{m-1}}
	\end{equation*}
	所以：
	\begin{equation*}
		\lim_{m\to+\infty}\mu\left(\underset{k=m}{\overset{+\infty}{\cup}}\left\{|f_{n_k}-f|\geqslant\frac{1}{k}\right\}\right)=0
	\end{equation*}
	即$f_{n_k}\overset{a.u.}{\longrightarrow}f$。\par
	\textbf{充分性：}若此时$f_n\overset{\mu}{\longrightarrow}f$不成立，由\info{收敛则所有子列收敛}可知存在子列$\{f_{n_k}\}$不依测度收敛于$f$，即存在$\varepsilon_0,\delta_0>0$，对于任意的$K\in\mathbb{N}^+$，存在$m>K$使得：
	\begin{equation*}
		\mu(\{|f_{n_m}-f|\geqslant\varepsilon_0\})\geqslant\delta_0
	\end{equation*}
	那么对于$\{f_{n_k}\}$的任一子列$\{f_{n_{k_i}}\}$，对于任意的$I\in\mathbb{N}^+$，存在$j>I$使得：
	\begin{equation*}
		\mu(\{|f_{n_{k_j}}-f|\geqslant\varepsilon_0\})\geqslant\delta_0
	\end{equation*}
	由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu\left(\underset{i=I}{\overset{+\infty}{\cup}}\{|f_{n_{k_i}}-f|\geqslant\varepsilon_0\}\right)\geqslant\mu(\{|f_{n_{k_j}}-f|\geqslant\varepsilon_0\})\geqslant\delta_0
	\end{equation*}
	所以$\{f_{n_{k_i}}\}$不几乎一致收敛。由$\{f_{n_{k_i}}\}$的任意性可知与条件矛盾，所以此时有$f_n\overset{\mu}{\longrightarrow}f$。\par
	(4)记$F$为$f$的分布函数，$F_n$为$f_n$的分布函数。因为$f_n\overset{P}{\longrightarrow}f$，所以对任意的$\varepsilon>0$，有：
	\begin{equation*}
		\lim_{n\to+\infty}P(|f_n-f|\geqslant\varepsilon)=0
	\end{equation*}\par
	对任意的$x\in X$、任意的$\varepsilon>0$和任意的$n\in \mathbb{N}^+$，由\cref{prop:Measure}(3)可得：
	\begin{align*}
		F_n(x)&=P(f_n\leqslant x) \\
		&\leqslant P(f_n\leqslant x,|f_n-f|<\varepsilon)+P(f_n\leqslant x,|f_n-f|\geqslant\varepsilon) \\
		&\leqslant P(f\leqslant x+\varepsilon)+P(|f_n-f|\geqslant\varepsilon)
	\end{align*}
	第二行到第三行第一式的变化是因为：
	\begin{equation*}
		|f_n-f|<\varepsilon\Leftrightarrow-\varepsilon<f_n-f<\varepsilon\rightarrow f<f_n+\varepsilon
	\end{equation*}
	而$f_n\leqslant x$，于是变为$f\leqslant x+\varepsilon$。由极限的不等式性可得：
	\begin{equation*}
		\lim_{n\to+\infty}F_n(x)\leqslant P(f\leqslant x+\varepsilon)+\lim_{n\to+\infty}P(|f_n-f|\geqslant\varepsilon)=P(f\leqslant x+\varepsilon)
	\end{equation*}
	由$\varepsilon$的任意性可得：
	\begin{equation*}
		\lim_{n\to+\infty}F_n(x)\leqslant F(x)
	\end{equation*}\par
	对任意的$x\in X$、任意的$\varepsilon>0$和任意的$n\in \mathbb{N}^+$，又有：
	\begin{align*}
		P(f\leqslant x-\varepsilon)&\leqslant P(f\leqslant x-\varepsilon,|f_n-f|<\varepsilon)+P(f\leqslant x-\varepsilon,|f_n-f|\geqslant \varepsilon) \\
		&\leqslant P(f_n\leqslant x)+P(|f_n-f|\geqslant\varepsilon)
	\end{align*}
	由极限的不等式性可得：
	\begin{equation*}
		P(f\leqslant x-\varepsilon)\leqslant\lim_{n\to+\infty}P(f_n\leqslant x)+\lim_{n\to+\infty}P(|f_n-f|\geqslant\varepsilon)=\lim_{n\to+\infty}F_n(x)
	\end{equation*}
	于是：
	\begin{equation*}
		P(f\leqslant x-0)\leqslant\lim_{n\to+\infty}F_n(x)
	\end{equation*}
	若$F(x)$在$x$处连续，就有：
	\begin{equation*}
		P(f\leqslant x-0)=F(x-0)=F(x)
	\end{equation*}
	所以：
	\begin{equation}
		\lim_{n\to+\infty}F_n(x)=F(x)
	\end{equation}
	即$f_n\overset{d}{\longrightarrow}f$。\par
	(5)设$f=c$且$f_n\overset{d}{\longrightarrow}f$，对任意的$\varepsilon>0$，由\cref{prop:Measure}(3)（有限可加性）可得：
	\begin{equation*}
		P(\{|f_n-f|\geqslant\varepsilon\})=1-P(\{|f_n-f|\leqslant\varepsilon\})=1-P(\{-\varepsilon\leqslant f_n-f\leqslant\varepsilon\})=1-F_n(c+\varepsilon)+F_n(c-\varepsilon)
	\end{equation*}
	因为$f$为常值函数，所以$F$在除$c$点以外的点都连续。由依分布收敛的定义和分布函数的右连续性可得：
	\begin{equation*}
		\lim_{\varepsilon\to+0}\left[\lim_{n\to+\infty}F_n(c+\varepsilon)\right]=F(c)=1,\quad\lim_{\varepsilon\to0+}\left[\lim_{n\to+\infty}F_n(c-\varepsilon)\right]=0
	\end{equation*}
	根据\info{极限的线性性质}可得：
	\begin{equation*}
		\lim_{n\to+\infty}P(\{|f_n-f|\geqslant\varepsilon\})=0
	\end{equation*}
	即$f_n\overset{P}{\longrightarrow}f$。结合(4)即可得出结论。
\end{proof}
