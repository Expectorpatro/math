\section{测度空间}
\subsection{集函数与测度}
\begin{definition}
	设$\mathscr{A}$是$X$上的一个集族。称定义在$\mathscr{A}$上的函数为\textbf{集函数}。
\end{definition}
\begin{definition}
	设$\mathscr{A}$是$X$上的集族，$\mu$是定义在其上的非负集函数。
	\begin{enumerate}
		\item 如果对$\mathscr{A}$中任意互不相交并且满足$\underset{i=1}{\overset{n}{\cup}}A_i\in\mathscr{A}$的$A_1,A_2,\dots,A_n$，有：
		\begin{equation*}
			\mu\left(\underset{i=1}{\overset{n}{\cup}}A_i\right)=\sum_{i=1}^{n}\mu(A_i)
		\end{equation*}
		则称$\mu$具有\gls{FiniteAdditivity}；
		\item 如果对$\mathscr{A}$中任意满足$\underset{i=1}{\overset{n}{\cup}}A_i\in\mathscr{A}$的$A_1,A_2,\dots,A_n$，有：
		\begin{equation*}
			\mu\left(\underset{i=1}{\overset{n}{\cup}}A_i\right)\leqslant\sum_{i=1}^{n}\mu(A_i)
		\end{equation*}
		则称$\mu$具有\gls{FiniteSubadditivity}；
		\item 如果对任意的$A,B\in\mathscr{A},\;A\subseteq B,\;B\backslash A\in\mathscr{A}$，只要$\mu(A)<+\infty$，就有：
		\begin{equation*}
			\mu(B\backslash A)=\mu(B)-\mu(A)
		\end{equation*}
		则称$\mu$具有\gls{Reducibility}；
		\item 若对任意的$A,B\in\mathscr{A},\;A\subseteq B$，有$\mu(A)\leqslant\mu(B)$，则称$\mu$具有\gls{Monotonicity}；
		\item 若对$\mathscr{A}$中任意互不相交的集合序列$\{A_n\}$，只要$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in\mathscr{A}$，就有：
		\begin{equation*}
			\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)=\sum_{n=1}^{+\infty}\mu(A_n)
		\end{equation*}
		则称$\mu$具有\gls{CountablyAdditivity}；
		\item 若对$\mathscr{A}$中任意的集合序列$\{A_n\}$，只要$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in\mathscr{A}$，就有：
		\begin{equation*}
			\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\leqslant\sum_{n=1}^{+\infty}\mu(A_n)
		\end{equation*}
		则称$\mu$具有\gls{CountablySubadditivity}；
		\item 若对任意的$\{A_n\}\subseteq\mathscr{A}$且$A_n\uparrow A\in\mathscr{A}$，有：
		\begin{equation*}
			\mu\left(A\right)=\lim_{n\to+\infty}\mu(A_n)
		\end{equation*}
		则称$\mu$具有\gls{ContinuityFromBelow}；
		\item 若对任意的$\{A_n\}\subseteq\mathscr{A}$且$A_n\downarrow A\in\mathscr{A},\;\mu(A_1)<+\infty$，有：
		\begin{equation*}
			\mu\left(A\right)=\lim_{n\to+\infty}\mu(A_n)
		\end{equation*}
		则称$\mu$具有\gls{ContinuityFromAbove}。
	\end{enumerate}
\end{definition}
\subsubsection{半环上的非负集函数}
\begin{theorem}\label{theo:SemiringFiniteAdditivitySetfunction}
	半环$\mathscr{A}$上有有限可加性的非负集函数$\mu$必有单调性和可减性。
\end{theorem}
\begin{proof}
	(1)设$A,B\in\mathscr{A},\;A\subseteq B$。因为$\mathscr{A}$是一个半环，所以存在互不相交的$\seq{C}{n}\in \mathscr{A}$使得：
	\begin{equation*}
		B\backslash A=\underset{i=1}{\overset{n}{\cup}}C_i
	\end{equation*}
	由$\mu$的有限可加性可得：
	\begin{equation*}
		\mu(B)=\mu\left[A\cup\left(\underset{i=1}{\overset{n}{\cup}}C_i\right)\right]=\mu(A)+\sum_{i=1}^{n}\mu(C_i)\geqslant\mu(A)
	\end{equation*}
	所以$\mu$有单调性。\par
	(2)若$B\backslash A\in\mathscr{A}$，则由(1)可得：
	\begin{equation*}
		\mu(B\backslash A)=\mu\left(\underset{i=1}{\overset{n}{\cup}}C_i\right)=\sum_{i=1}^{n}\mu(C_i)=\mu(B)-\mu(A)
	\end{equation*}
	于是$\mu$有可减性。
\end{proof}
\begin{theorem}\label{theo:SemiringCountableAdditivitySetFunction}
	半环$\mathscr{A}$上有可列可加性且满足$\mu(\varnothing)=0$的非负集函数$\mu$具有次可列可加性、下连续性和上连续性。
\end{theorem}
\begin{proof}
	\textbf{下连续性：}设$\{A_n\}$是$\mathscr{A}$中一个单调递增的集合序列且有$A_n\uparrow A\in\mathscr{A}$，$A_0=\varnothing$。根据半环的定义，存在$\mathscr{A}$中的$C_{n1},C_{n2},\dots,C_{nk_n}$使得：
	\begin{equation*}
		A_n\backslash A_{n-1}=\underset{i=1}{\overset{k_n}{\cup}}C_{ni}
	\end{equation*}
	由$\mu$的可列可加性和\cref{prop:Measure}(1)可得：
	\begin{align*}
		\mu(A)&=\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)
		=\mu\left[\underset{n=1}{\overset{+\infty}{\cup}}(A_{n}\backslash A_{n-1})\right]=\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}\underset{i=1}{\overset{k_n}{\cup}}C_{ni}\right)=\sum_{n=1}^{+\infty}\sum_{i=1}^{k_n}\mu(C_{ni}) \\
		&=\lim_{n\to+\infty}\left[\sum_{i=1}^{n}\sum_{j=1}^{k_i}\mu(C_{ij})\right]=\lim_{n\to+\infty}\mu\left(\underset{i=1}{\overset{n}{\cup}}\underset{j=1}{\overset{k_i}{\cup}}C_{ij}\right)=\lim_{n\to+\infty}\mu(A_n)
	\end{align*}
	下连续性得证。\par
	\textbf{上连续性：}设$\{A_n\}$是$\mathscr{A}$中一个单调递减的集合序列且有$A_n\downarrow A\in\mathscr{A}$，$\mu(A_1)<+\infty$。因为$\mathscr{A}$是一个半环，所以存在互不相交的$C_{n1},C_{n2},\dots,C_{nk_n}\in \mathscr{A}$使得：
	\begin{equation*}
		A_n\backslash A_{n+1}=\underset{i=1}{\overset{k_n}{\cup}}C_{ni}
	\end{equation*}
	由$\mu$的可列可加性和\cref{prop:Measure}(1)可得：
	\begin{align*}
		\mu(A_n)&=\mu\left\{A\cup\left[\underset{i=n}{\overset{+\infty}{\cup}}(A_i\backslash A_{i+1})\right]\right\}=\mu\left[A\cup\left(\underset{i=n}{\overset{+\infty}{\cup}}\underset{j=1}{\overset{k_i}{\cup}}C_{ij}\right)\right]
		=\mu(A)+\sum_{i=n}^{+\infty}\sum_{j=1}^{k_i}\mu(C_{ij})
	\end{align*}
	注意到：
	\begin{equation*}
		\mu(A_1)=\mu(A)+\sum_{i=1}^{+\infty}\sum_{j=1}^{k_i}\mu(C_{ij})<+\infty
	\end{equation*}
	所以级数：
	\begin{equation*}
		\sum_{i=1}^{+\infty}\sum_{j=1}^{k_i}\mu(C_{ij})
	\end{equation*}
	收敛。由级数收敛的必要性条件\info{级数收敛的必要条件}可得：
	\begin{equation*}
		\lim_{n\to+\infty}\left[\sum_{i=n}^{+\infty}\sum_{j=1}^{k_i}\mu(C_{ij})\right]=0
	\end{equation*}
	于是有：
	\begin{equation*}
		\lim_{n\to+\infty}\mu(A_n)=\mu(A)+\lim_{n\to+\infty}\left[\sum_{i=n}^{+\infty}\sum_{j=1}^{k_i}\mu(C_{ij})\right]=\mu(A)
	\end{equation*}
	上连续性得证。\par
	\textbf{次可列可加性：}设$\{A_n\}$是$\mathscr{A}$中的一个集合序列，由生成的定义可知$\{A_n\}$也是$r(\mathscr{A})$中的一个集合序列，令$A_0=\varnothing$。由环的定义可得：
	\begin{equation*}
		\underset{i=1}{\overset{n-1}{\cup}}A_i\in r(\mathscr{A}),\;A_n\backslash\underset{i=1}{\overset{n-1}{\cup}}A_i\in r(\mathscr{A})
	\end{equation*}
	因为环也是半环（\cref{theo:SetNecessarilySet1}），再根据\cref{theo:RingGeneratedBySemiring}可得存在互不相交的$C_{n1},C_{n2},\dots,C_{nk_n}\in\mathscr{A}$使得：
	\begin{equation*}
		A_n\backslash\underset{i=1}{\overset{n-1}{\cup}}A_i=\underset{i=1}{\overset{k_n}{\cup}}C_{ni}
	\end{equation*}
	同理，存在互不相交的$D_{n1},D_{n2},\dots,D_{nl_n}\in\mathscr{A}$使得：
	\begin{equation*}
		A_n\backslash\underset{i=1}{\overset{k_n}{\cup}}C_{ni}=\underset{i=1}{\overset{l_n}{\cup}}D_{ni}
	\end{equation*}
	显然$C_{n1},C_{n2},\dots,C_{nk_n},D_{n1},D_{n2},\dots,D_{nl_n}$互不相交，同时有：
	\begin{equation*}
		A_n=\left(\underset{i=1}{\overset{k_n}{\cup}}C_{ni}\right)\bigcup\left(\underset{i=1}{\overset{l_n}{\cup}}D_{ni}\right)
	\end{equation*}
	若$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in\mathscr{A}$，由$\mu$的可列可加性与有限可加性（\cref{prop:Measure}(1)）可得：
	\begin{align*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)
		&=\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}\underset{i=1}{\overset{k_n}{\cup}}C_{ni}\right) =\sum_{n=1}^{+\infty}\sum_{i=1}^{k_n}\mu(C_{ni}) \\
		&\leqslant\sum_{n=1}^{+\infty}\sum_{i=1}^{k_n}\mu(C_{ni})+\sum_{n=1}^{+\infty}\sum_{i=1}^{l_n}\mu(D_{ni}) \\
		&=\sum_{n=1}^{+\infty}\left[\sum_{i=1}^{k_n}\mu(C_{ni})+\sum_{i=1}^{l_n}\mu(D+_{ni}\right] \\
		&=\sum_{n=1}^{+\infty}\mu\left[\left(\underset{i=1}{\overset{k_n}{\cup}}C_{ni}\right)\bigcup\left(\underset{i=1}{\overset{l_n}{\cup}}D_{ni}\right)\right]=\sum_{n=1}^{+\infty}\mu(A_n)
	\end{align*}
	次可列可加性得证。
\end{proof}
\subsubsection{测度}
\begin{definition}
	设$\mathscr{A}$是$X$上的集族，$\varnothing\in\mathscr{A}$。如果$\mathscr{A}$上的非负集函数$\mu$满足：
	\begin{enumerate}
		\item $\mu(\varnothing)=0$；
		\item $\mu$具有可列可加性。
	\end{enumerate}
	则称$\mu$为$\mathscr{A}$上的\gls{Measure}。如果对任意的$A\in\mathscr{A}$有$\mu(A)<+\infty$，则称测度$\mu$是有限的；如果对任意的$A\in\mathscr{A}$，存在$\mathscr{A}$中的集合序列$\{A_n\}$，满足$\mu(A_n)<+\infty,\;\forall\;n\in\mathbb{N}^+$，使得$A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}A_n$，则称测度$\mu$是$\sigma$有限的。
\end{definition}
\begin{property}\label{prop:Measure}
	集族$\mathscr{A}$上的测度$\mu$具有如下性质：
	\begin{enumerate}
		\item $\mu$具有有限可加性；
		\item $\mu$具有可减性；
		\item  若$\mathscr{A}$是一个半环，则$\mu$具有单调性、可减性、次可列可加性、次有限可加性、下连续性和上连续性；
		\item 若$\mathscr{B}$是$\mathscr{A}$的一个子$\sigma$域，则$\mu$在$\mathscr{B}$上也成为一个测度。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)任取互不相交且满足$\underset{i=1}{\overset{n}{\cup}}A_i\in\mathscr{A}$的$A_1,A_2,\dots,A_n\in\mathscr{A}$，由$\mu$的可列可加性可得：
	\begin{equation*}
		\mu\left(\underset{i=1}{\overset{n}{\cup}}A_i\right)=\mu(A_1\cup A_2\cdots\cup A_n\cup\varnothing\cdots)=\sum_{i=1}^{n}\mu(A_i)+0=\sum_{i=1}^{n}\mu(A_i)
	\end{equation*}
	所以$\mu$具有有限可加性。\par
	(2)任取$A,B\in\mathscr{A},\;A\subseteq B,\;B\backslash A\in\mathscr{A},\;\mu(A)<+\infty$，显然$(B\backslash A)\cap A=\varnothing$，由(1)可得：
	\begin{equation*}
		\mu(B)=\mu[(B\backslash A)\cup A]=\mu(B\backslash A)+\mu(A)
	\end{equation*}
	即：
	\begin{equation*}
		\mu(B\backslash A)=\mu(B)-\mu(A)
	\end{equation*}
	于是$\mu$具有可减性。\par
	(3)测度具有非负性和可列可加性，由\cref{theo:SemiringCountableAdditivitySetFunction}可知半环上的测度具有次可列可加性、下连续性和上连续性。由(1)可知可列可加性蕴含有限可加性，所以根据\cref{theo:SemiringFiniteAdditivitySetfunction}可知半环上的测度具有单调性和可减性。次有限可加性可由次可列可加性与$\mu(\varnothing)=0$推出。\par
	(4)由测度的定义直接可得。
\end{proof}
\begin{theorem}
	设$\mu$是环$\mathscr{A}$上满足$\mu(\varnothing)=0$的非负集函数，则：
	\begin{align*}
		&(1)\mu\text{是测度} \\
		\Leftrightarrow&(2)\mu\text{次可列可加且有限可加} \\
		\Leftrightarrow&(3)\mu\text{下连续且有限可加}
	\end{align*}
\end{theorem}
\begin{proof}
	由\cref{theo:SetNecessarilySet1}可知环是半环，所以根据\cref{prop:Measure}(1)(3)可得两个必要性成立，下分别证明两个充要性。\par
	(1)设$\{A_n\}$是$\mathscr{A}$中的一个互不相交的集合序列且满足$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in\mathscr{A}$。由$\mu$的次可列可加性可得：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\leqslant
		\sum_{n=1}^{+\infty}\mu(A_n)
	\end{equation*}
	因为$\mathscr{A}$是一个环，所以对任意的$m\in\mathbb{N}^+$有$\underset{n=1}{\overset{m}{\cup}}A_n\in\mathscr{A}$。由\cref{theo:SemiringFiniteAdditivitySetfunction}可知$\mu$具有单调性，因为$\mu$具有有限可加性，所以对任意的$m\in\mathbb{N}^+$有：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\geqslant\mu\left(\underset{n=1}{\overset{m}{\cup}}A_n\right)=\sum_{n=1}^{m}\mu(A_n)
	\end{equation*}
	于是由极限的不等式性可得：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\geqslant\lim_{m\to+\infty}\left[\sum_{n=1}^{m}\mu(A_n)\right]=
		\sum_{n=1}^{+\infty}\mu(A_n)
	\end{equation*}
	所以有：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)=\sum_{n=1}^{+\infty}\mu(A_n)
	\end{equation*}
	即$\mu$可列可加。\par
	(2)设$\{A_n\}$是$\mathscr{A}$中的一个互不相交的集合序列且满足$\underset{n=1}{\overset{+\infty}{\cup}}A_n\in\mathscr{A}$，显然有：
	\begin{equation*}
		\underset{i=1}{\overset{n}{\cup}}A_i\uparrow\underset{n=1}{\overset{+\infty}{\cup}}A_n
	\end{equation*}
	因为$\mathscr{A}$是一个环，所以对任意的$n\in\mathbb{N}^+$有$\underset{i=1}{\overset{n}{\cup}}A_i\in\mathscr{A}$，于是由$\mu$的有限可加性与下连续性可得：
	\begin{align*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)
		&=\lim_{n\to+\infty}\left[\mu\left(\underset{i=1}{\overset{n}{\cup}}A_i\right)\right] =\lim_{n\to+\infty}\left[\sum_{i=1}^{n}\mu(A_i)\right]=\sum_{n=1}^{+\infty}\mu(A_n)
	\end{align*}
	即$\mu$可列可加。
\end{proof}
\begin{definition}
	设$X$是一个集合，$\mathscr{A}$是$X$的一些子集生成的$\sigma$域，$\mu$是$\mathscr{A}$上的测度。称$(X,\mathscr{A},\mu)$为\gls{MeasureSpace}。若$A\in \mathscr{A}$且$\mu(A)=0$，则称$A$为\gls{NullSet}。若$\mathscr{A}$中零测集的子集还属于$\mathscr{A}$，则称测度空间$(X,\mathscr{A},\mu)$是\gls{CompleteMeasureSpace}。若测度空间$(X,\mathscr{A},P)$满足$P(X)=1$，则称其为\gls{ProbabilitySpace}，对应的$P$叫做\textbf{概率测度}，$\mathscr{A}$中的元素叫做\gls{Event}，$P(A)$叫做事件$A$发生的概率。
\end{definition}

\subsection{外测度}
\begin{definition}
	设$\tau$是$X$的所有子集构成的集族$\mathscr{A}$到$\overline{\mathbb{R}}$上的集函数，如果：
	\begin{enumerate}
		\item $\tau(\varnothing)=0$；
		\item 若$A\subseteq B$且$A,B\in\mathscr{A}$，则有$\tau(A)\leqslant\tau(B)$；
		\item $\tau$具有次可列可加性。
	\end{enumerate}
	则称$\tau$为$X$上的\gls{ExteriorMeasure}。
\end{definition}
\begin{property}\label{prop:ExteriorMeasure}
	$X$的所有子集构成的集族$\mathscr{A}$上的外测度$\tau$具有如下性质：
	\begin{enumerate}
		\item $\tau$是非负集函数；
		\item $\tau$具有次有限可加性；
		\item $\mathscr{A}$上的测度$\tau$一定是$X$上的外测度。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)由外测度的定义立即可得。\par
	(2)任取$A_1,A_2,\dots,A_n\in\mathscr{A}$，由$\tau$的次可列可加性可得：
	\begin{equation*}
		\tau\left(\underset{i=1}{\overset{n}{\cup}}A_i\right)=\tau(A_1\cup A_2\cdots\cup A_n\cup\varnothing\cdots)\leqslant\sum_{i=1}^{n}\tau(A_i)+0=\sum_{i=1}^{n}\tau(A_i)
	\end{equation*}
	由$A_1,A_2,\dots,A_n$的任意性，$\tau$具有次有限可加性。\par
	(3)显然$\mathscr{A}$是一个$\sigma$域。由\cref{prop:SigmaField}(1)可知$\mathscr{A}$是一个域，根据\cref{theo:SetNecessarilySet1}可知$\mathscr{A}$是一个半环，所以$\tau$是半环上的测度。由\cref{prop:Measure}(3)可知$\tau$具有单调性和次可列可加性。因为$\tau$是一个测度，所以$\tau(\varnothing)=0$。综上，$\tau$是$X$上的外测度。
\end{proof}
\begin{theorem}
	设$\mathscr{A}$是一个包含$\varnothing$的集族，$\mu$是$\mathscr{A}$上的一个非负集函数且满足$\mu(\varnothing)=0$，若对于任意的$A\in\mathscr{B}$（$\mathscr{B}$是$X$的所有子集构成的集族）有：
	\begin{equation*}
		\tau(A)=\inf\left\{\sum_{n=1}^{+\infty}\mu(B_n):B_n\in\mathscr{A},\;A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n\right\}
	\end{equation*}
	则$\tau$是一个外测度，称$\tau$为\textbf{由$\mu$生成的外测度}。
\end{theorem}
\begin{proof}
	(1)因为$\mu$是非负集函数且$\varnothing\subseteq\underset{n=1}{\overset{+\infty}{\cup}}\varnothing$，所以：
	\begin{equation*}
		0\leqslant\tau(\varnothing)\leqslant\sum_{n=1}^{+\infty}\mu(\varnothing)=0
	\end{equation*}
	于是$\tau(\varnothing)=0$。\par
	(2)设$A\subseteq B$且$A,B\in\mathscr{B}$，对于满足条件：
	\begin{equation*}
		B\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n
	\end{equation*}
	的$\{B_n\}$，自然有：
	\begin{equation*}
		A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n
	\end{equation*}
	所以：
	\begin{equation*}
		\tau(A)\leqslant\sum_{n=1}^{+\infty}\mu(B_n)
	\end{equation*}
	对右边取下确界即有$\tau(A)\leqslant\tau(B)$。\par
	(3)设$\{A_n\}$是$\mathscr{B}$中的一个集合序列。若存在$n_0\in\mathbb{N}^+$使得$\tau(A_{n_0})=+\infty$，则由$\tau$的定义和(2)可得：
	\begin{equation*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\leqslant+\infty=\tau(A_{n_0})\leqslant\sum_{n=1}^{+\infty}\tau(A_n)
	\end{equation*}
	即$\tau$具有次可列可加性。\par
	若$\tau(A_n)<+\infty$对$n\in\mathbb{N}^+$都成立，任取$\varepsilon>0$，对任意的$n\in\mathbb{N}^+$，存在$\mathscr{A}$中的一个集合序列$\{B_{ni}\}$使得：
	\begin{equation*}
		A_n\subseteq\underset{i=1}{\overset{+\infty}{\cup}}B_{ni},\;
		\sum_{i=1}^{+\infty}\mu(B_{ni})<\tau(A_n)+\frac{\varepsilon}{2^n}
	\end{equation*}
	于是：
	\begin{equation*}
		\sum_{n=1}^{+\infty}\sum_{i=1}^{+\infty}\mu(B_{ni})<\sum_{n=1}^{+\infty}\tau(A_n)+\varepsilon
	\end{equation*}
	由$\{B_{n_i}\}$的取法，显然：
	\begin{equation*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\leqslant\sum_{n=1}^{+\infty}\sum_{i=1}^{+\infty}\mu(B_{ni})<\sum_{n=1}^{+\infty}\tau(A_n)+\varepsilon
	\end{equation*}
	由$\varepsilon$的任意性可得：
	\begin{equation*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\leqslant\sum_{n=1}^{+\infty}\tau(A_n)
	\end{equation*}
	即$\tau$具有次可列可加性。\par
	综上，$\tau$是一个外测度。
\end{proof}
\begin{definition}[Caratheodory condition]
	设$X$是一个集合，$\mathscr{A}$是$X$的所有子集构成的集族，$\tau$是$X$上的外测度。称满足条件：
	\begin{equation*}
		\tau(T)=\tau(T\cap A)+\tau(T\cap A^c),\;\forall\;T\in\mathscr{A}
	\end{equation*}
	的集合$A\in\mathscr{A}$为$\tau$\gls{MeasurableSet}。将由所有$\tau$可测集构成的集族记作$\mathscr{A}_{\tau}$。
\end{definition}
\begin{lemma}\label{lem:EmeasureAB}
	设$X$是一个集合，$\mathscr{A}$是$X$的所有子集构成的集族，$\tau$是$X$上的外测度。集合$E\in\mathscr{A}_{\tau}$的充要条件是对与$\forall\;A\subseteq E,\;\forall\;B\subseteq E^c$，总有：
	\begin{equation*}
		\tau(A\cup B)=\tau(A)+\tau(B)
	\end{equation*}
\end{lemma}
\begin{proof}
	\textbf{必要性：}对任意的$A\subseteq E,\;B\subseteq E^c$，取$T=A\cup B$，因为$E\in \mathscr{A}_{\tau}$，那么对于这个$T$，应有：
	\begin{equation}
		\tau(A\cup B)=\tau(T)=\tau(T\cap E)+\tau(T\cap E^c)=\tau(A)+\tau(B)\notag
	\end{equation}
	\textbf{充分性：}对任意的$T\in \mathscr{A}$，$\exists\;A\subseteq E,\;\exists\; B\subseteq E^c$，使得$T=A\cup B$，那么就有：
	\begin{equation}
		\tau(T)=\tau(A\cup B)=\tau(A)+\tau(B)=\tau(T\cap E)+\tau(T\cap E^c)\notag
	\end{equation}
	由$T$的任意性，$E\in \mathscr{A}_{\tau}$。
\end{proof}
\begin{property}\label{prop:tauMeasurableSetCollection}
	设$X$是一个集合，$\mathscr{A}$是$X$的所有子集构成的集族，$\tau$是$X$上的外测度。$\mathscr{A}_{\tau}$具有如下性质：
	\begin{enumerate}
		\item $\varnothing,X\in \mathscr{A}_{\tau}$； 
		\item $S\in \mathscr{A}_{\tau}$的充要条件是$S^c\in \mathscr{A}_{\tau}$；
		\item 设$\seq{S}{n}$是$\tau$可测集，则有$\underset{i=1}{\overset{n}{\cup}}S_i\in \mathscr{A}_{\tau}$，并且当$\seq{S}{n}$互不相交时可得：
		\begin{equation*}
			\tau\left(\underset{i=1}{\overset{n}{\cup}}S_i\right)=\sum_{i=1}^{n}\tau(S_i)
		\end{equation*}
		\item 设$\seq{S}{n}$是$\tau$可测集，则$\underset{i=1}{\overset{n}{\cap}}S_i\in \mathscr{A}_{\tau}$；
		\item 设$S_1,S_2\in \mathscr{A}_{\tau}$，则$S_1\backslash S_2\in \mathscr{A}_{\tau}$；
		\item 设$\{S_n\}$是一列$\tau$可测集，则$\underset{n=1}{\overset{+\infty}{\cup}}S_n\in \mathscr{A}_{\tau}$，并且当$\{S_n\}$互不相交时可得：
		\begin{equation*}
			\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}S_i\right)=\sum_{n=1}^{+\infty}\tau(S_i)
		\end{equation*}
		\item 设$\{S_n\}$是一列$\tau$可测集，则$\underset{n=1}{\overset{+\infty}{\cap}}S_n\in\mathscr{A}_{\tau}$；
		\item $\mathscr{A}_\tau$是一个$\sigma$域。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)代入定义直接可得。\par
	(2)若$S\in \mathscr{A}_{\tau}$，对任意的$T\in \mathscr{A}$，则有：
	\begin{align*}
		\tau(T)=\tau(T\cap S)+\tau(T\cap S^c)
		&=\tau[T\cap(S^c)^c]+\tau(T\cap S^c) \\
		&=\tau(T\cap S^c)+\tau[T\cap(S^c)^c]
	\end{align*}\par
	(3)因为$S_1\in \mathscr{A}_{\tau}$，对任意的$T$都有：
	\begin{equation}\label{eq:S_1measure}
		\tau(T)=\tau(T\cap S_1)+\tau(T\cap S_1^c)
	\end{equation}
	因为$S_2\in \mathscr{A}_{\tau}$，对于$\tau(T\cap S_1^c)$有：
	\begin{equation}\label{eq:TcapS_1measure}
		\tau(T\cap S_1^c)=\tau[(T\cap S_1^c)\cap S_2]+\tau[(T\cap S_1^c)\cap S_2^c]
	\end{equation}
	将\eqref{eq:TcapS_1measure}式代入\eqref{eq:S_1measure}式，再由\cref{prop:SetOperation}(7)，得到：
	\begin{align*}
		\tau(T)&=\tau(T\cap S_1)+\tau[(T\cap S_1^c)\cap S_2]+\tau[(T\cap S_1^c)\cap S_2^c] \\
		&=\tau(T\cap S_1)+\tau[(T\cap S_1^c)\cap S_2]+\tau[T\cap(S_1\cup S_2)^c]
	\end{align*}
	由于$T\cap S_1\subseteq S_1$，$(T\cap S_1^c)\cap S_2\subseteq S_1^c$，满足\cref{lem:EmeasureAB}条件，因此上式的前两项可以合并：
	\begin{align*}
		\tau(T\cap S_1)+\tau[(T\cap S_1^c)\cap S_2]&=\tau[(T\cap S_1)\cup(T\cap S_1^c\cap S_2)] \\
		&=\tau\{T\cap[S_1\cup(S_1^c\cap S_2)]\} \\
		&=\tau\{T\cap[(S_1\cup S_1^c)\cap(S_1\cup S_2)]\} \\
		&=\tau[T\cap(S_1\cup S_2)]
	\end{align*}
	那么就有：
	\begin{equation*}
		\tau(T)=\tau[T\cap(S_1\cup S_2)]+\tau[T\cap(S_1\cup S_2)^c]
	\end{equation*}
	由$T$的任意性，$S_1\cup S_2\in \mathscr{A}_{\tau}$。\par
	当$S_1\cap S_2=\varnothing$时，显然$S_2\subseteq S_1^c$，那么就有$T\cap S_2\subseteq S_1^c$，由\cref{lem:EmeasureAB}：
	\begin{align*}
		\tau[T\cap(S_1\cup S_2)]&=\tau[(T\cap S_1)\cup(T\cap S_2)]\\
		&=\tau(T\cap S_1)+\tau(T\cap S_2)
	\end{align*}
	由数学归纳法，$\underset{i=1}{\overset{n}{\cup}}S_i\in \mathscr{A}_{\tau}$且当$\seq{S}{n}$互不相交时可得：
	\begin{equation*}
		\tau\left(\underset{i=1}{\overset{n}{\cup}}S_i\right)=\sum_{i=1}^{n}\tau(S_i)
	\end{equation*}\par
	(4)由\cref{prop:SetOperation}(7)以及(2)(3)直接得到：
	\begin{equation*}
		\underset{i=1}{\overset{n}{\cap}}S_i=\left(\underset{i=1}{\overset{n}{\cup}}S_i^c\right)^c\in \mathscr{A}_{\tau}
	\end{equation*}\par
	(5)$\;S_1\backslash S_2=S_1\cap S_2^c$，由(2)(4)可知$S_1\backslash S_2\in \mathscr{A}_{\tau}$。\par
	(6)设$\{S_n\}$互不相交。由(3)可得对任意的$n$，$\underset{i=1}{\overset{n}{\cup}}S_i\in \mathscr{A}_{\tau}$，那么对任意的$T\in \mathscr{A}$，就有（第一行到第二行利用外测度的单调性，第二行到第三行利用(3)）：
	\begin{align*}
		\tau(T)&=\tau\left[T\cap\left(\underset{i=1}{\overset{n}{\cup}}S_i\right)\right]+\tau\left[T\cap\left(\underset{i=1}{\overset{n}{\cup}}S_i\right)^c\right] \\
		&\geqslant \tau\left[T\cap\left(\underset{i=1}{\overset{n}{\cup}}S_i\right)\right]+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right] \\
		&=\sum_{i=1}^n\tau(T\cap S_i)+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]
	\end{align*}
	令$n\to+\infty$，有（第一行到第二行利用极限的不等式性，第二行到第三行利用外测度的次可列可加性）：
	\begin{align}
		\tau(T)&\geqslant\sum_{i=1}^n\tau(T\cap S_i)+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]\notag \\
		&\geqslant\sum_{i=1}^{+\infty} \tau(T\cap S_i)+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right] \label{eq:TcupSi}\\
		&\geqslant \tau\left[\underset{i=1}{\overset{+\infty}{\cup}}(T\cap S_i)\right]+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right] \notag \\ &=\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\right]+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]\notag
	\end{align}
	又因：
	\begin{equation*}
		T=\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\right]\cup\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]
	\end{equation*}
	由外测度的次有限可加性（\cref{prop:ExteriorMeasure}(2)）可得：
	\begin{equation*}
		\tau(T)\leqslant \tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\right]+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]
	\end{equation*}
	因此：
	\begin{equation*}
		\tau(T)= \tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\right]+\tau\left[T\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right]
	\end{equation*}
	由$T$的任意性，$\underset{n=1}{\overset{+\infty}{\cup}}S_n$是$\tau$可测集。\par
	令$T=\underset{n=1}{\overset{+\infty}{\cup}}S_n$，代入\cref{eq:TcupSi}式，则：
	\begin{align*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)
		&\geqslant\sum_{i=1}^{+\infty} \tau\left[\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\cap S_i\right]+\tau\left[\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)^c\right] \\
		&=\sum_{i=1}^{+\infty} \tau(S_i)
	\end{align*}
	但是由外测度的次可列可加性有：
	\begin{equation*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)\leqslant\sum_{n=1}^{+\infty} \tau(S_n)
	\end{equation*}
	因此：
	\begin{equation*}
		\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n\right)=\sum_{n=1}^{+\infty} \tau(S_n)
	\end{equation*}\par
	若$\{S_n\}$不满足互不相交，则$\underset{n=1}{\overset{+\infty}{\cup}}S_n$可被表示为互不相交的可数个集合的并：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}S_n=S_1\cup (S_2\backslash S_1)\cup[S_3\backslash(S_1\cup S_2)]\cdots
	\end{equation*}
	由(5)和之前$\{S_n\}$互不相交时的论述即可得$\underset{n=1}{\overset{+\infty}{\cup}}S_n\in \mathscr{A}_{\tau}$。\par
	(7)由\cref{prop:SetOperation}(7)和(2)可知：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cap}}S_n=\left(\underset{n=1}{\overset{+\infty}{\cup}}S_n^c\right)^c\in \mathscr{A}_{\tau}
	\end{equation*}\par
	(8)由(1)(2)(6)立即可得。
\end{proof}
\begin{theorem}\label{theo:ExteriorMeasureCompleteSpace}
	设$X$是一个集合，$\mathscr{A}$是$X$的所有子集构成的集族，$\tau$是$X$上的外测度。$(X,\mathscr{A}_{\tau},\tau)$是一个完全测度空间。
\end{theorem}
\begin{proof}
	由\cref{prop:tauMeasurableSetCollection}(6)和外测度的定义可知$\tau$是$\mathscr{A}_{\tau}$上的测度，根据\cref{prop:tauMeasurableSetCollection}(8)可得$\mathscr{A}_\tau$是$\sigma$域，所以$(X,\mathscr{A}_\tau,\tau)$是测度空间。\par
	任取$A\in \mathscr{A}$满足$\tau(A)=0$，对任何的$E\in \mathscr{A}$，由外测度的单调性和非负性（\cref{prop:ExteriorMeasure}(1)）可得$\tau(E\cap A)=0$，于是由外测度的单调性可得：
	\begin{equation*}
		\tau(E)\geqslant\tau(E\cap A^c)=\tau(E\cap A)+\tau(E\cap A^c)
	\end{equation*}
	因为$E=(E\cap A)\cup(E\cap A^c)$，由\cref{prop:ExteriorMeasure}(2)可得：
	\begin{equation*}
		\tau(E)\leqslant\tau(E\cap A)+\tau(E\cap A^c)
	\end{equation*}
	于是有：
	\begin{equation*}
		\tau(E)=\tau(E\cap A)+\tau(E\cap A^c)
	\end{equation*}
	由$E$的任意性，$A\in \mathscr{A}_{\tau}$，即$\tau$的零测集都属于$\mathscr{A}_{\tau}$。由外测度的单调性，零测集的子集都是零测集，所以$\tau$的零测集的子集都属于$\mathscr{A}_{\tau}$，$(X,\mathscr{A}_{\tau},\tau)$是一个完全测度空间。
\end{proof}

\subsection{测度的扩张}
\begin{definition}
	设$\mu,\tau$分别为集族$\mathscr{A},\mathscr{B}$上的测度，并且有$\mathscr{A}\subseteq\mathscr{B}$。如果对任意的$A\in \mathscr{A}$都有$\mu(A)=\tau(A)$，则称$\tau$是$\mu$在$\mathscr{B}$上的\gls{Extension}。
\end{definition}
\begin{lemma}\label{lem:PiExtensionMeasure}
	设$\mathscr{A}$是$X$上的一个$\pi$系，如果$\sigma(\mathscr{A})$上的测度$\mu,\tau$满足：
	\begin{enumerate}
		\item 对任意的$A\in \mathscr{A}$，有$\mu(A)=\tau(B)$；
		\item 存在$\mathscr{A}$中互不相交的集合序列$\{A_n\}$使得：
		\begin{equation*}
			\underset{n=1}{\overset{+\infty}{\cup}}A_n=X,\;\mu(A_n)<+\infty,\;\forall\;n\in\mathbb{N}^+
		\end{equation*}
	\end{enumerate}
	则对任何的$A\in\sigma(\mathscr{A})$，有$\mu(A)=\tau(A)$。
\end{lemma}
\begin{proof}
	使用$\lambda$系方法进行证明。令：
	\begin{equation*}
		\mathscr{B}=\{A\in\sigma(\mathscr{A}):\mu(A)=\tau(B)\}
	\end{equation*}
	由条件(1)可得$\mathscr{A}\subseteq\mathscr{B}$，下面证明$\mathscr{B}$是一个$\lambda$系。\par
	(1)由条件(2)和测度的可列可加性可得：
	\begin{equation*}
		\mu(X)=\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)=\sum_{n=1}^{+\infty}\mu(A_n)=\sum_{n=1}^{+\infty}\tau(A_n)=\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)=\tau(X)
	\end{equation*}
	所以$X\in\mathscr{B}$。注意\textbf{如果没有$\mu(A_n)<+\infty$的话上式两端是不可比较的}。\par
	(2)任取$C,D\in\mathscr{B}$且$C\subseteq D$，则$\mu(C)=\tau(C),\;\mu(D)=\tau(D)$。由\cref{prop:SigmaField}(4)可得$D\backslash C\in\sigma(\mathscr{A})$，于是根据\cref{prop:Measure}(2)可得：
	\begin{equation*}
		\mu(D\backslash C)=\mu(D)-\mu(C)=\tau(D)-\tau(C)=\tau(D\backslash C)
	\end{equation*}
	所以$D\backslash C\in\mathscr{B}$。\par
	(3)任取$\mathscr{B}$中一个单调不减的集合序列$\{B_n\}$，则有$\mu(B_n)=\tau(B_n)$对任意的$n\in\mathbb{N}^+$成立且$\underset{n=1}{\overset{+\infty}{\cup}}B_n\in\sigma(\mathscr{A})$。令$B_0=\varnothing$，因为$\mu,\tau$是测度，所以$B_0\in\mathscr{B}$。由\cref{prop:SigmaField}(4)可知$B_n\backslash B_{n-1}\in\sigma(\mathscr{A})$，所以由测度的可列可加性和\cref{prop:Measure}(2)可得：
	\begin{align*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)&=\mu\left[\underset{n=1}{\overset{+\infty}{\cup}}(B_n\backslash B_{n-1})\right]=\sum_{n=1}^{+\infty}\mu(B_n\backslash B_{n-1})=\sum_{n=1}^{+\infty}[\mu(B_n)-\mu(B_{n-1})] \\
		&=\sum_{n=1}^{+\infty}[\tau(B_n)-\tau(B_{n-1})]=\sum_{n=1}^{+\infty}\tau(B_n\backslash B_{n-1})=\tau\left[\underset{n=1}{\overset{+\infty}{\cup}}(B_n\backslash B_{n-1})\right] \\
		&=\tau\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)
	\end{align*}
	所以$\underset{n=1}{\overset{+\infty}{\cup}}B_n\in\mathscr{B}$。\par
	综上，$\mathscr{B}$是一个$\lambda$系。\par
	由\cref{cor:SigmaPi=LambdaPi}可知$\sigma(\mathscr{A})\subseteq \mathscr{B}$，于是对任意的$A\in\sigma(\mathscr{A})$有$\mu(A)=\tau(A)$。
\end{proof}
\begin{theorem}\label{theo:SemiringMeasureExtension}
	对于半环$\mathscr{A}$上的测度$\mu$，存在$\sigma(\mathscr{A})$上$\mu$的扩张$\tau$。若存在$\mathscr{A}$中互不相交的集合序列$\{A_n\}$使得：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}A_n=X,\;\mu(A_n)<+\infty,\;\forall\;n\in\mathbb{N}^+
	\end{equation*}
	则$\tau$是唯一的且是由$\mu$生成的外测度。
\end{theorem}
\begin{proof}
	取$\tau$为由$\mu$生成的外测度。证明分成以下三步：
	\begin{enumerate}
		\item 证明对于任意的$A\in \mathscr{A}$，有$\mu(A)=\tau(A)$；
		\item 证明$\tau$是$\sigma(\mathscr{A})$上的测度：
		\begin{enumerate}
			\item 对任何的$A,B\in \mathscr{A}$，有：
			\begin{equation*}
				\tau(B)\geqslant\tau(B\cap A)+\tau(B\cap A^c)
			\end{equation*}
			\item 设$\mathscr{B}$是$X$的所有子集构成的集族，$\mathscr{B}_{\tau}$是$\tau$可测集，则$\mathscr{A}\subseteq\mathscr{B}_{\tau}$。
		\end{enumerate}
		\item 满足定理条件时$\tau$是唯一的。
	\end{enumerate}\par
	(1)取任意的$A\in \mathscr{A}$和任意满足$A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n$的$\mathscr{A}$中的集合序列$\{B_n\}$。根据半环的定义可得$A\cap B_n\in\mathscr{A}$，由\cref{prop:SetOperation}(4)和\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu(A)=\mu\left[A\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)\right]=\mu\left[\underset{n=1}{\overset{+\infty}{\cup}}(A\cap B_n)\right]\leqslant\sum_{n=1}^{+\infty}\mu(A\cap B_n)\leqslant\sum_{n=1}^{+\infty}\mu(B_n)
	\end{equation*}
	由下确界的不等式性可得：
	\begin{equation*}
		\mu(A)\leqslant\inf\left\{\sum_{n=1}^{+\infty}\mu(B_n):B_n\in\mathscr{A},\;A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n\right\}=\tau(A)
	\end{equation*}
	再取$B_1=A,\;B_n=\varnothing,\;\forall\;n\geqslant2$，有：
	\begin{equation*}
		\mu(A)=\sum_{n=1}^{+\infty}\mu(B_n)\geqslant\tau(A)
	\end{equation*}
	于是有$\mu(A)=\tau(A)$。\par
	(2.a)因为$\mathscr{A}$是半环，所以存在互不相交的$\seq{C}{n}\subset\mathscr{A}$使得：
	\begin{equation*}
		B\cap A^c=B\backslash A=\underset{i=1}{\overset{n}{\cup}}C_i
	\end{equation*}
	由(1)可得$\mu(B)=\tau(B)$，根据半环对交的封闭性与\cref{prop:Measure}(1)可得：
	\begin{align*}
		\tau(B)&=\mu(B)=\mu[(B\cap A)\cup (B\cap A^c)]=\mu(B\cap A)+\mu(B\cap A^c) \\
		&=\mu(B\cap A)+\mu\left(\underset{i=1}{\overset{n}{\cup}}C_i\right)=\mu(B\cap A)+\sum_{i=1}^{n}\mu(C_i) \\
		&\geqslant\mu(B\cap A)+\tau(B\cap A^c)=\tau(B\cap A)+\tau(B\cap A^c)
	\end{align*}\par
	(2.b)即要证对任意的$A\in \mathscr{A}$和任意的$C\in \mathscr{B}$，有：
	\begin{equation*}
		\tau(C)=\tau(C\cap A)+\tau(C\cap A^c)
	\end{equation*}\par
	当$\tau(C)=+\infty$时，由\cref{prop:ExteriorMeasure}(2)可得：
	\begin{equation*}
		\tau(C)=\tau[(C\cap A)\cup(C\cap A^c)]\leqslant\tau(C\cap A)+\tau(C\cap A^c)
	\end{equation*}
	所以$\tau(C\cap A)+\tau(C\cap A^c)=+\infty$，于是$\tau(C)=\tau(C\cap A)+\tau(C\cap A^c)$。\par
	当$\tau(C)<+\infty$时，对任意的$\varepsilon>0$，取$\{C_n\}\subseteq\mathscr{A}$使得$C\subseteq\underset{n=1}{\overset{+\infty}{\cup}}C_n$并且有：
	\begin{equation*}
		\tau(C)+\varepsilon\geqslant\sum_{n=1}^{+\infty}\mu(C_n)
	\end{equation*}
	根据(1)、(2.a)、外测度的定义和\cref{prop:SetOperation}(4)可得：
	\begin{align*}
		\tau(C)+\varepsilon&\geqslant\sum_{n=1}^{+\infty}\mu(C_n)=\sum_{n=1}^{+\infty}\tau(C_n)\geqslant\sum_{n=1}^{+\infty}[\tau(C_n\cap A)+\tau(C_n\cap A^c)] \\
		&=\sum_{n=1}^{+\infty}\tau(C_n\cap A)+\sum_{n=1}^{+\infty}\tau(C_n\cap A^c)\geqslant\tau\left[\underset{n=1}{\overset{+\infty}{\cup}}(C_n\cap A)\right]+\tau\left[\underset{n=1}{\overset{+\infty}{\cup}}(C_n\cap A^c)\right] \\
		&=\tau\left[\left(\underset{n=1}{\overset{+\infty}{\cup}}C_n\right)\cap A\right]+\tau\left[\left(\underset{n=1}{\overset{+\infty}{\cup}}C_n\right)\cap A^c\right]\geqslant\tau(C\cap A)+\tau(C\cap A^c)
	\end{align*}
	由$\varepsilon$的任意性可得：
	\begin{equation*}
		\tau(C)\geqslant\tau(C\cap A)+\tau(C\cap A^c)
	\end{equation*}
	由\cref{prop:ExteriorMeasure}(2)可得：
	\begin{equation*}
		\tau(C)=\tau[(C\cap A)\cup(C\cap A^c)]\leqslant\tau(C\cap A)+\tau(C\cap A^c)
	\end{equation*}
	所以有：
	\begin{equation*}
		\tau(C)=\tau(C\cap A)+\tau(C\cap A^c)
	\end{equation*}\par
	综上有$\mathscr{A}\subseteq\mathscr{B}_\tau$，由\cref{theo:ExteriorMeasureCompleteSpace}可得$\mathscr{B}_\tau$是$\sigma$域且$\tau$是$\mathscr{B}_\tau$上的测度，所以$\sigma(\mathscr{A})\subseteq\mathscr{B}_\tau$，$\tau$限制在$\sigma(\mathscr{A})$上时具有可列可加性，所以$\tau$是$\sigma(\mathscr{A})$上的测度。\par
	(3)因为半环是$\pi$系，由\cref{lem:PiExtensionMeasure}可知此时满足条件的$\tau$是唯一的。
\end{proof}
\begin{corollary}\label{cor:SemiringMeasureExtension}
	对于包含$X$的半环$\mathscr{A}$上的$\sigma$有限测度$\mu$，存在$\sigma(\mathscr{A})$上$\mu$唯一的扩张$\tau$，且$\tau$是由$\mu$生成的外测度。
\end{corollary}
\begin{proof}
	由\cref{theo:SemiringMeasureExtension}可知只需要证明存在互不相交的$\{A_n\}$满足：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}A_n=X,\quad\mu(A_n)<+\infty,\;\forall\;n\in\mathbb{N}^+
	\end{equation*}\par
	因为$\mu$是$\sigma$有限的并且$X\in\mathscr{A}$，所以存在$\{A_n\}$满足$X=\underset{n=1}{\overset{+\infty}{\cup}}A_n$且$\mu(A_n)<+\infty$。令$A_0=\varnothing\in\mathscr{A}$，由\cref{prop:Semiring}可得：
	\begin{equation*}
		X=\underset{n=1}{\overset{+\infty}{\cup}}A_n=\underset{n=1}{\overset{+\infty}{\cup}}\left[A_n\Big\backslash\left(\underset{i=1}{\overset{n-1}{\cup}}A_n\right)\right]=\underset{n=1}{\overset{+\infty}{\cup}}\left(\underset{i=1}{\overset{k_n}{\cup}}C_{ni}\right)
	\end{equation*}
	其中$C_{ni}$互不相交。因为$C_{ni}\subseteq A_n$，由\cref{prop:Measure}(3)可得$\mu(C_{ni})<+\infty$。$\{C_{ni}\}$即为满足条件的集合序列。
\end{proof}
\begin{theorem}\label{theo:DifOfFtauAndSigmaA}
	设$\tau$是半环$\mathscr{A}$上的测度$\mu$生成的外测度，$\mathscr{B}$是$X$的所有子集构成的集族，则：
	\begin{enumerate}
		\item 对任意的$A\in\mathscr{B}_\tau$，存在$B\in\sigma(\mathscr{A})$使得$A\subseteq B$且$\tau(A)=\tau(B)$；
		\item 若存在$\mathscr{A}$中互不相交的集合序列$\{A_n\}$使得：
		\begin{equation*}
			\underset{n=1}{\overset{+\infty}{\cup}}A_n=X,\;\mu(A_n)<+\infty,\;\forall\;n\in\mathbb{N}^+
		\end{equation*}
		则对任意的$A\in\mathscr{B}_\tau$，存在$B\in\sigma(\mathscr{A})$使得$A\subseteq B$且有$\tau(B\backslash A)=0$。
	\end{enumerate}
\end{theorem}
\begin{proof}
	(1)若$\tau(A)=+\infty$，由外测度的单调性取$B=X$即可。若$\tau(A)<+\infty$，对每个$n\in\mathbb{N}^+$取$\{B_{nk}\}\subseteq\mathscr{A}$（$\{B_{nk}\}$的存在性由生成的外测度的定义保证）使得：
	\begin{equation*}
		A\subseteq\underset{k=1}{\overset{+\infty}{\cup}}B_{nk},\quad\sum_{k=1}^{+\infty}\mu(B_{nk})<\tau(A)+\frac{1}{n}
	\end{equation*}
	令$B=\underset{n=1}{\overset{+\infty}{\cap}}\underset{k=1}{\overset{+\infty}{\cup}}B_{nk}$，由\cref{prop:SigmaField}(2)可得$B\in\sigma(\mathscr{A})$且$A\subseteq B$。由外测度的单调性可得$\tau(A)\leqslant\tau(B)$。根据外测度的单调性与外测度的定义可知对任意的$n\in\mathbb{N}^+$有：
	\begin{equation*}
		\tau(B)\leqslant\tau\left(\underset{k=1}{\overset{+\infty}{\cup}}B_{nk}\right)\leqslant\sum_{k=1}^{+\infty}\mu(B_{nk})<\tau(A)+\frac{1}{n}
	\end{equation*}
	令$n\to+\infty$即可得到$\tau(B)\leqslant\tau(A)$，于是$\tau(A)=\tau(B)$。\par
	(2)由\cref{theo:SemiringMeasureExtension}的证明过程可知$\sigma(\mathscr{A})\subseteq\mathscr{B}_\tau$，所以$A_n\in\mathscr{B}_\tau$，对于任意的$A\in\mathscr{B}_\tau$，根据\cref{prop:tauMeasurableSetCollection}和\cref{prop:SigmaField}(2)可得$A\cap A_n\in\mathscr{B}_\tau$。由(1)可得存在$B_n\in\sigma(\mathscr{A})$满足$A\cap A_n\subseteq B_n$且$\tau(A\cap A_n)=\tau(B_n)$。由外测度的单调性和生成的外测度的定义可知$\tau(A\cap A_n)\leqslant\tau(A_n)\leqslant\mu(A_n)<+\infty$。令$B=\underset{n=1}{\overset{+\infty}{\cup}}B_n$，则：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}(A\cap A_n)=A\cap\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)=A\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n=B
	\end{equation*}
	因为$\sigma(\mathscr{A})\subseteq\mathscr{B}_\tau$，所以$B_n\in\mathscr{B}_\tau$。根据\cref{theo:ExteriorMeasureCompleteSpace}可得$\mathscr{B}_\tau$是一个$\sigma$域且$\tau$是$\mathscr{B}_\tau$上的测度，由\cref{prop:Measure}(1)、\cref{theo:SetNecessarilySet1}和\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\tau[B_n\backslash (A\cap A_n)]=\tau(B_n)-\tau(A\cap A_n)=0
	\end{equation*}
	由\cref{prop:SetOperation}(4)(5)、外测度的单调性和外测度的次可列可加性可得：
	\begin{align*}
		\tau(B\backslash A)&=\tau[B\backslash(A\cap X)]=\tau\left\{\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)\Big\backslash\left[A\bigcap\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\right]\right\} \\
		&=\tau\left\{\underset{n=1}{\overset{+\infty}{\cup}}B_n\Big\backslash\left[\underset{m=1}{\overset{+\infty}{\cup}}(A\cap A_m)\right]\right\}\leqslant\tau\left\{\underset{n=1}{\overset{+\infty}{\cup}}[B_n\backslash(A\cap A_n)]\right\} \\
		&\leqslant\sum_{n=1}^{+\infty}\tau[B_n\backslash(A\cap A_n)]=0
	\end{align*}
	所以结论成立。
\end{proof}

\subsection{测度空间的完全化}
\begin{theorem}
	对任何测度空间$(X,\mathscr{A},\mu)$，令：
	\begin{equation*}
		\tilde{\mathscr{A}}\coloneq\{A\cup N:A\in\mathscr{A};\;\exists\;B\in\mathscr{A},\;\mu(B)=0,\;N\subseteq B\}
	\end{equation*}
	则$\tilde{\mathscr{A}}$是一个$\sigma$域。若对每个$A\cup N\in\tilde{\mathscr{A}}$，令：
	\begin{equation*}
		\tilde{\mu}(A\cup N)=\mu(A)
	\end{equation*}
	则$(X,\tilde{\mathscr{A}},\tilde{\mu})$是一个完全测度空间且对任意的$A\in\mathscr{A}$有$\tilde{\mu}(A)=\mu(A)$。
\end{theorem}
\begin{proof}
	\textbf{(1)$\;\tilde{\mathscr{A}}$是$\sigma$域：}\par
	因为$\varnothing\subseteq\varnothing,\;\mu(\varnothing)=0,\;X\in\mathscr{A}$，所以$X=X\cup\varnothing\in\tilde{\mathscr{A}}$。\par
	对任意的$A\cup N\in\tilde{\mathscr{A}}$，由\cref{prop:SetOperation}(7)可得：
	\begin{equation*}
		(A\cup N)^c=[(A\cup N)^c\cap B]\cup[(A\cup N)^c\cap B^c]=[A^c\cap N^c\cap B]\cup[A^c\cap N^c\cap B^c]
	\end{equation*}
	因为$N\subseteq B$，所以$B^c\subseteq N^c$，于是根据\cref{prop:SigmaField}(2)可得：
	\begin{equation*}
		(A\cup N)^c=(A^c\cap N^c\cap B)\cup(A^c\cap B^c)=(A^c\cap B^c)\cup\tilde{N}\in\tilde{\mathscr{A}}
	\end{equation*}\par
	任取$\{A_n\cup N_n\}\subseteq\tilde{\mathscr{A}}$，其中$N_n\subseteq B_n$，则：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}(A_n\cup N_n)=\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\bigcup\left(\underset{n=1}{\overset{+\infty}{\cup}}N_n\right),\quad\underset{n=1}{\overset{+\infty}{\cup}}N_n\subseteq\underset{n=1}{\overset{+\infty}{\cup}}B_n
	\end{equation*}
	因为$\mathscr{A}$是$\sigma$域，所以：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}A_n,\;\underset{n=1}{\overset{+\infty}{\cup}}B_n\in\mathscr{A}
	\end{equation*}
	由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)\leqslant\sum_{n=1}^{+\infty}\mu(B_n)=0
	\end{equation*}
	所以：
	\begin{equation*}
		\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}B_n\right)=0
	\end{equation*}
	于是：
	\begin{equation*}
		\underset{n=1}{\overset{+\infty}{\cup}}(A_n\cup N_n)\in\tilde{\mathscr{A}}
	\end{equation*}\par
	综上，$\tilde{\mathscr{A}}$是$\sigma$域。\par
	\textbf{(2)$\;\tilde{\mu}$是良定义的：}任取$A_1\cup N_1=A_2\cup N_2\in\tilde{\mathscr{A}}$。由$\tilde{\mu}$的定义有$\tilde{\mu}(A_1\cup N_1)=\mu(A_1)$，根据\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu(A_1)\leqslant\mu(A_1\cup B_1\cup B_2)\leqslant\mu(A_1)+\mu(B_1)+\mu(B_2)=\mu(A_1)
	\end{equation*}
	于是根据\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\tilde{\mu}(A_1\cup N_1)=\mu(A_1)=\mu(A_1\cup B_1\cup B_2)\geqslant\mu(A_2)=\tilde{\mu}(A_2\cup N_2)
	\end{equation*}
	同理可得$\tilde{\mu}(A_2\cup N_2)\geqslant\tilde{\mu}(A_1\cup N_1)$，所以有$\tilde{\mu}(A_2\cup N_2)=\tilde{\mu}(A_1\cup N_1)$。\par
	\textbf{(3)$\;\tilde{\mu}$是$\tilde{\mathscr{A}}$上的测度：}由$\tilde{\mu}$的定义可得它是一个非负集函数，同时有：
	\begin{equation*}
		\tilde{\mu}(\varnothing)=\tilde{\mu}(\varnothing\cup\varnothing)=\mu(\varnothing)=0
	\end{equation*}
	任取$\tilde{\mathscr{A}}$中互不相交的$\{A_n\cup N_n\}$，由(1)的证明过程可得：
	\begin{align*}
		\tilde{\mu}\left[\underset{n=1}{\overset{+\infty}{\cup}}(A_n\cup N_n)\right]&=\tilde{\mu}\left[\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right)\bigcup\left(\underset{n=1}{\overset{+\infty}{\cup}}N_n\right)\right]=\mu\left(\underset{n=1}{\overset{+\infty}{\cup}}A_n\right) \\
		&=\sum_{n=1}^{+\infty}\mu(A_n)=\sum_{n=1}^{+\infty}\tilde{\mu}(A_n\cup N_n)
	\end{align*}
	所以$\tilde{\mu}$是$\tilde{\mathscr{A}}$上的测度。\par
	\textbf{(4)$\;(X,\tilde{\mathscr{A}},\tilde{\mu})$是完全测度空间：}若$C\subseteq(A\cup N)\in\tilde{\mathscr{A}},\;\tilde{\mu}(A\cup N)=0,\;A\cup N\in\tilde{\mathscr{A}}$，由\cref{prop:Measure}(3)可得：
	\begin{equation*}
		\mu(A\cup B)\leqslant\mu(A)+\mu(B)=\tilde{\mu}(A\cup N)+\mu(B)=0
	\end{equation*}
	所以：
	\begin{equation*}
		\mu(A\cup B)=0,\quad C\subseteq(A\cup N)\subseteq(A\cup B)
	\end{equation*}
	于是有$C=\varnothing\cup C\in\tilde{\mathscr{A}}$。由$C$的任意性可知$(X,\tilde{\mathscr{A}},\tilde{\mu})$是一个完全测度空间。
\end{proof}
\begin{theorem}
	设$\tau$是包含$X$\info{包含$X$能否省略，是否应修改为测度扩张的条件}的半环$\mathscr{A}$上$\sigma$有限测度$\mu$生成的外测度，$B$是由$X$的所有子集构成的集族，则$(X,\mathscr{B}_\tau,\tau)$是$(X,\sigma(\mathscr{A}),\tau)$的完全化。
\end{theorem}
\begin{proof}
	记$\mathscr{B}=\sigma(\mathscr{A})$。\par
	\textbf{(1)$\;\tilde{\mathscr{B}}=\mathscr{B}_\tau$：}对任意的$A\cup N\in\tilde{\mathscr{B}}$，由\cref{theo:ExteriorMeasureCompleteSpace}可知$(X,\mathscr{B}_\tau,\mu)$是一个完全测度空间，所以$N\in\mathscr{B}_\tau$。由\cref{theo:SemiringMeasureExtension}的证明过程可知$\mathscr{B}\subseteq\mathscr{B}_\tau$，所以$A\in\mathscr{B}_\tau$。根据\cref{prop:SigmaField}(3)可得$A\cup N\in\mathscr{B}_\tau$，所以$\tilde{\mathscr{B}}\subseteq\mathscr{B}_\tau$。\par
	对任意的$A\in\mathscr{B}_\tau$，由\cref{cor:SemiringMeasureExtension}的证明过程和\cref{theo:DifOfFtauAndSigmaA}(2)可知存在$B\in\mathscr{B}$满足$A\subseteq B$且$\tau(B\backslash A)=0$。因为$\mathscr{B}\subseteq\mathscr{B}_\tau$，所以$B\in\mathscr{B}_\tau$，由\cref{prop:SigmaField}(4)可得$B\backslash A\in\mathscr{B}_\tau$，于是由\cref{theo:DifOfFtauAndSigmaA}(1)可知存在$C\in\mathscr{B}$满足$B\backslash A\subseteq C$且$\tau(C)=\tau(B\backslash A)=0$。因为$B\backslash A\subseteq C$，所以$(B\backslash A)\cap C^c=\varnothing$，于是：
	\begin{equation*}
		A=(A\cap C)\cup(A\cap C^c)=(A\cap C)\cup\{[(B\backslash A)\cup A]\cap C^c\}=(A\cap C)\cup(B\cap C^c)
	\end{equation*}
	因为$\mathscr{B}\subseteq\mathscr{B}_\tau$，由\cref{prop:SigmaField}(2)可得$B\cap C^c\in\mathscr{B}$，而$A\cap C\subseteq C,\;\tau(C)=0$，所以$A\in\tilde{\mathscr{B}}$，于是有$\mathscr{B}_\tau\subseteq\tilde{\mathscr{B}}$。\par
	综上$\tilde{\mathscr{B}}=\mathscr{B}_\tau$。\par
	\textbf{(2)$\;\tau$：}对任意的$A\cup N\in\mathscr{B}_\tau,\;N\subseteq B\in\mathscr{B},\;\tau(B)=0$，由外测度的单调性和\cref{prop:ExteriorMeasure}(1)可得：
	\begin{equation*}
		\tau(A)\leqslant\tau(A\cup N)\leqslant\tau(A)+\tau(N)\leqslant\tau(A)+\tau(B)=\tau(A)
	\end{equation*}
	所以$\tau(A\cup N)=\tau(A)$。\par
	综上，$(X,\mathscr{B}_\tau,\tau)$是$(X,\sigma(\mathscr{A}),\tau)$的完全化。
\end{proof}
