\chapter{度量空间}

\begin{definition}
	设$X$为一个非空集合。若对任意的$x,y\in X$，都存在$\rho(x,y)\in\mathbb{R}$与$x,\;y$对应，且满足以下三个条件：
	\begin{enumerate}
		\item 非负性：$\rho(x,y)\geqslant0$，等号成立当且仅当$x=y$。
		\item 对称性：$\rho(x,y)=\rho(y,x)$。
		\item 三角不等式：$\rho(x,y)\leqslant\rho(x,z)+\rho(z,y),\;\forall\;z\in X$。
	\end{enumerate}
	则称$\rho$是$X$上的一个距离，$X$是以$\rho$为距离的\gls{MetricSpace}，记为$(X,\rho)$。度量空间中的元素又称之为点。
\end{definition}
\begin{definition}
	度量空间$(X,\rho)$中的点集：
	\begin{equation*}
		\{P\in X:\rho(P,P_0)<\delta\}\qquad (\delta>0)
	\end{equation*}
	被称之为点$P_0$的$\delta\;$\gls{neighbourhood}或开邻域，记为$U(P_0,\delta)$。若在上式中取小于等于号，则称之为闭邻域，用$\bar{U}(P,\delta)$表示\footnote{下面如果不作特殊说明，涉及到邻域时都指开邻域。}。
\end{definition}
\begin{property}\label{prop:Neighbourhood}
	设$(X,\rho)$是一个度量空间，$P\in X$，则有：
	\begin{enumerate}
		\item $\forall\;\delta>0,\;P\in U(P,\delta)$；
		\item $\forall\;\delta_1,\delta_2>0,\;\exists\;\delta_3>0,\;U(P,\delta_3)\subseteq U(P,\delta_1)\cap U(P,\delta_2)$；
		\item $\forall\;P_0\in X,\;P_0\ne P,\;\exists\;U(P),U(P_0),\;U(P)\cap U(P_0)=\varnothing$。
	\end{enumerate}
\end{property}
\begin{proof}
	(1)显然。(2)取$\delta_3\leqslant\min(\delta_1,\delta_2)$即可。(3)取$\delta\in\left(0,\frac{\rho(P,P_0)}{2}\right)$即可。
\end{proof}
\begin{definition}
	设$(X,\rho)$是一个度量空间，$E\subseteq X$。称：
	\begin{equation*}
		\delta_E=\sup_{x,y\in E}\rho(x,y)
	\end{equation*}
	为点集$E$的\gls{diameter}。
\end{definition}
\begin{definition}
	设$(X,\rho)$是一个度量空间，$E\subset X$。若$\delta_E<+\infty$或$E$包含在$X$中某一点的某一邻域内或$E$包含在$X$中任意一点的某一邻域内，则称$E$是$(X,\rho)$中的\gls{BoundedSet}。
\end{definition}
\begin{note}
	三者的等价性很直观：\par
	$(1)\to(3)$：任取$x\in E$，取$\delta=\delta_E$构造闭邻域$\bar{U}(x,\delta)$或取$\delta=\delta_E+\varepsilon(\forall\;\varepsilon>0)$构造开邻域$U(x,\delta)$。\par
	$(1)\to(2)$：$(1)\to(3)\to(2)$。\par
	$(2)\to(1)$：设关于该点满足条件的开邻域或闭邻域的直径为$\delta$，显然$\delta_E\leqslant\delta<+\infty$。\par 
	$(3)\to(1)$：$(3)\to(2)\to(1)$。
\end{note}

\section{度量空间上的收敛点列}
\begin{definition}
	设$(X,\rho)$是一个度量空间，从正整数集$\mathbb{N}^+$到$X$的一个映射，相当于用正整数编号的$X$中的点$x_1,x_2,\cdots$被称为一个\gls{SeqOfPoints}，记为$\{x_n\}$。
\end{definition}
\begin{definition}
	设$\{x_n\}$是度量空间$(X,\rho)$中的一个点列，而
	\begin{equation*}
		n_1<n_2<\cdots<n_k<n_{k+1}<\cdots
	\end{equation*}
	是一串严格递增的自然数，则
	\begin{equation*}
		x_{n_1}<x_{n_2}<\cdots<x_{n_k}<x_{n_{k+1}}<\cdots
	\end{equation*}
	也形成一个$(X,\rho)$中的点列，我们把$\{x_{n_k}\}$称之为点列$\{x_n\}$的一个\gls{subsequence}。
\end{definition}
\begin{definition}
	设$\{x_n\}$是度量空间$(X,\rho)$中的点列，如果对任意的$\varepsilon>0$，$\exists\; N\in\mathbb{N}^+$，当$n>N$时有：
	\begin{equation*}
		\rho(x_n,x)<\varepsilon
	\end{equation*}
	则称$\{x_n\}$是度量空间$(X,\rho)$中的\gls{ConvergentSeqOfPoints}，$x$是点列$\{x_n\}$的\gls{limit}，记作$x_n\to x$或$\lim\limits_{n\to+\infty}x_n=x$。
\end{definition}
\begin{property}
	设$\{x_n\}$是度量空间$(X,\rho)$中的一个收敛点列，则：
	\begin{enumerate}
		\item $\{x_n\}$的极限是唯一的；
		\item 对任意的$ y\in X$，数列$\{\rho(x_n,y)\}$有界；
		\item $\{x_n\}$是有界点集；
		\item $\{x_n\}$是收敛点列的充要条件为$\{x_n\}$的任一子列是收敛点列且极限相同；
		\item 设$\{x_n\},\{y_n\}\subset X$，$x_n\to x$，若存在$N_1\in\mathbb{N}^+$使得当$n>N_1$时有$\rho(y_n,x)\leqslant\rho(x_n,x)$，则$y_n\to x$；
	\end{enumerate}
\end{property}
\begin{proof}
	(1)假设极限不唯一，$\{x_n\}$既收敛到$a$又收敛到$b$，则对任意的$\varepsilon>0$，$\exists\; N_1\in\mathbb{N}^+$，当$n>N_1$时有$\rho(x_n,a)<\frac{\varepsilon}{2}$；$\exists\; N_2\in\mathbb{N}^+$，当$n>N_2$时有$\rho(x_n,b)<\frac{\varepsilon}{2}$。取$N=\max\{N1,N2\}$，则当$n>N$时，有：
	\begin{equation*}
		\rho(a,b)\leqslant\rho(a,x_n)+\rho(x_n,b)<\varepsilon
	\end{equation*}
	即$a=b$。\par
	(2)设$\{x_n\}\to x$，由距离的定义：
	\begin{equation*}
		\rho(x_n,y)\leqslant\rho(x_n,x)+\rho(x,y)
	\end{equation*}
	由于$\{x_n\}$收敛，所以对$\varepsilon=1$：
	\begin{equation*}
		\exists\;N\in\mathbb{N}^+,\;\forall\;n>N,\;\rho(x_n,x)<\varepsilon=1
	\end{equation*}
	取$K=\max\{\rho(x_1,x),\rho(x_2,x),\dots,\rho(x_N,x),1\}$，则有：
	\begin{equation*}
		\forall\;n\in\mathbb{N}^+,\;\rho(x_n,y)\leqslant K+\rho(x,y)
	\end{equation*}
	即数列$\{\rho(x_n,y)\}$有界。\par
	(3)任取$y\in X$，由(2)数列$\{\rho(x_n,y)\}$有界，即$\exists\;\delta>0,\;\forall\;n\in\mathbb{N}^+,\;\rho(x_n,y)<\delta$，则$\{x_n\}\subseteq U(y,\delta)$，即$\{x_n\}$有界。\par
	(4)\textbf{必要性：}设$\{x_n\}$的极限为$x$，则对任意的$\varepsilon>0$，$\exists\; N\in\mathbb{N}^+$，当$n>N$时有$\rho(x_n,x)<\varepsilon$，当$k>N$时就有$n_k\geqslant k>N$，也即$\rho(x_{n_k},x)<\varepsilon$。\par
	\textbf{充分性：}$\;\{x_n\}$也是它自己的一个子列。\par
	(5)因为$x_n\to x$，所以对任意的$\varepsilon>0$，存在$N_2\in\mathbb{N}^+$使得当$n>N_2$时有$\rho(x_n,x)<\varepsilon$，取$N=\max\{N_1,N_2\}$即有$\rho(y_n,x)\leqslant\rho(x_n,x)<\varepsilon$，于是$y_n\to x$。
\end{proof}

\input{analysis/metric-space/def-pset.tex}
\input{analysis/metric-space/mapping.tex}
\input{analysis/metric-space/compact.tex}
\input{analysis/metric-space/normedLS.tex}

%实数序列
%有界序列
%收敛序列的定义（包含无穷大，并区分R中收敛还是包含扩充的R中收敛），几何解释，在这里定义发散序列
%
%收敛序列的证明方法：定义法（放大），夹逼定理（有穷与无穷），单调收敛原理（有界情况用到了收敛序列的有界性，无界情况则无穷，把两个都包含进去），柯西收敛原理（用到了波尔查诺-魏尔斯特拉斯，，需要先说明基本序列以及基本序列的有界性）（使用时常取n与n+p，最终还是需要把p放缩掉）
%
%收敛序列的性质：极限的唯一性（无穷与有穷），有界性（有界收敛），四则运算与绝对值（右端的式子有意义，分为两方面，一方面是极限存在，另一方面是极限的那些数值做的计算有意义），收敛序列与不等式的关系
%
%子列的定义，收敛序列子列必有极限且极限相同且唯一
%
%闭区间套原理（用到了单调收敛原理，至于c的唯一性可以用上下确界的唯一性得到），波尔查诺-魏尔斯特拉斯定理（有界序列必有子列有极限，用到了闭区间套）
%
%函数极限的序列式定义与柯西式定义，两种定义的等价性。（这里考虑极限值与极限点的有穷与无穷）
%
%函数极限的证明方法：定义法，夹逼定理（序列式易证，有穷与无穷），有穷极限时的收敛原理
%
%函数极限的性质：极限的唯一性（序列式易证），有界性（极限有界，柯西式易证），四则运算与绝对值（序列式可以直接得到有穷与无穷下的所有结果），收敛函数与不等式的关系（柯西式定义），复合函数求极限（序列式与柯西式都易证）
%
%函数的单侧极限，极限存在与单侧极限的关系，单调函数的单侧极限总是存在的
%
%函数的连续性与单侧连续的定义，一类与二类间断点。
%
%闭区间上连续函数的性质：介值定理（闭区间套与连续函数交换映射与极限顺序），区间上有界（闭区间套和函数极限的有界性），最值定理（其实是上下确界，利用上下确界的定义以及有界序列必有收敛子列），一致连续（构造序列反证，利用连续函数定义与有界序列必有收敛子列。同时还有序列式表述的一致连续性以及两个表述之间的等价性)
%
%
%乘积或商时等价因式的替换（和极限的四则运算一样，要求右侧有意义并且存在对应的极限关系）
%
%
%导数的定义。单侧导数，单侧导数与导数存在的关系。
%导数的运算法则：加减（函数四则运算证明），乘除（加一减一），复合函数求导（引入微分表示的不变性），反函数求导（注意反函数的单调性导致分母不会为0），隐函数求导（注意这里用了反函数，对某个隐函数是有要求的）（同时还要注意直接求导法），对数求导法，高阶导数莱布尼茨公式。
%常见函数的导函数。
%
%可微的定义，一元函数可导与可微的充要关系，一元函数可微与连续的关系。微分的定义，函数运算后的微分（导数乘dx）。
%
%极值点的判断：
%极值点定义（函数需要有定义，此处需要有内点的定义）
%引入无穷小增量公式（微分），费马定理（极值点的必要条件，此处引入临界点的定义，最值的搜索定理）
%引入有限增量公式（罗尔中值定理：闭区间函数必有最大值和最小值，最值必然也是极值，由费马定理推出导数为0；拉格朗日中值定理：作辅助函数变为罗尔定理的形式），函数递增与严格递增的充要条件，极值点的第一充分条件（不要求可导，但要求连续），极值点的第二充分条件（比第一充分条件严格，也是从第一推导来的）
%
%原函数的定义，原函数的表示形式，不定积分，函数线性运算后的不定积分
%不定积分的求法：换元积分法（微分形式不便性，分第一和第二），分步积分法（函数积的微分），有理函数的积分